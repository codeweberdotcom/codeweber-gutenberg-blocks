(()=>{"use strict";var e,a={630:(e,a,t)=>{const l=window.React,n=window.wp.blocks,r=window.wp.i18n,s=JSON.parse('{"apiVersion":3,"name":"codeweber-blocks/avatar","version":"0.1.0","title":"Avatar","category":"codeweber-gutenberg-elements","icon":"admin-users","description":"Avatar block with letters or image. Supports different sizes and color styles.","keywords":["avatar","profile","image","letters"],"supports":{"html":false,"customClassName":true,"anchor":true,"align":["left","center","right"]},"attributes":{"avatarType":{"type":"string","default":"custom"},"letters":{"type":"string","default":"AB"},"bgColor":{"type":"string","default":"primary"},"textColor":{"type":"string","default":"white"},"size":{"type":"string","default":"15"},"imageId":{"type":"number","default":0},"imageUrl":{"type":"string","default":""},"imageAlt":{"type":"string","default":""},"showName":{"type":"boolean","default":false},"name":{"type":"string","default":""},"position":{"type":"string","default":""},"nameLink":{"type":"string","default":""},"userId":{"type":"number","default":0},"staffId":{"type":"number","default":0},"staffShowDepartment":{"type":"boolean","default":false},"staffShowPhone":{"type":"boolean","default":false},"blockAlign":{"type":"string","default":""},"blockClass":{"type":"string","default":""},"blockData":{"type":"string","default":""},"blockId":{"type":"string","default":""},"spacingType":{"type":"string","default":"padding"},"spacingXs":{"type":"string","default":""},"spacingSm":{"type":"string","default":""},"spacingMd":{"type":"string","default":""},"spacingLg":{"type":"string","default":""},"spacingXl":{"type":"string","default":""},"spacingXxl":{"type":"string","default":""}},"textdomain":"codeweber-gutenberg-blocks","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),o=window.wp.element,c=window.wp.apiFetch;var i=t.n(c);const m=window.wp.blockEditor,b=window.wp.components,d=window.wp.primitives,u=(0,l.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(d.Path,{d:"M15.5 9.5a1 1 0 100-2 1 1 0 000 2zm0 1.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zm-2.25 6v-2a2.75 2.75 0 00-2.75-2.75h-4A2.75 2.75 0 003.75 15v2h1.5v-2c0-.69.56-1.25 1.25-1.25h4c.69 0 1.25.56 1.25 1.25v2h1.5zm7-2v2h-1.5v-2c0-.69-.56-1.25-1.25-1.25H15v-1.5h2.5A2.75 2.75 0 0120.25 15zM9.5 8.5a1 1 0 11-2 0 1 1 0 012 0zm1.5 0a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z",fillRule:"evenodd"})),g=(0,l.createElement)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)(d.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})),p=(0,l.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(d.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})),f=[{label:"Primary",value:"primary"},{label:"Dark",value:"dark"},{label:"Light",value:"light"},{label:"Yellow",value:"yellow"},{label:"Orange",value:"orange"},{label:"Red",value:"red"},{label:"Pink",value:"pink"},{label:"Fuchsia",value:"fuchsia"},{label:"Violet",value:"violet"},{label:"Purple",value:"purple"},{label:"Blue",value:"blue"},{label:"Aqua",value:"aqua"},{label:"Sky",value:"sky"},{label:"Green",value:"green"},{label:"Leaf",value:"leaf"},{label:"Ash",value:"ash"},{label:"Navy",value:"navy"},{label:"Grape",value:"grape"},{label:"Muted",value:"muted"},{label:"White",value:"white"},{label:"Pinterest",value:"pinterest"},{label:"Dewalt",value:"dewalt"},{label:"Facebook",value:"facebook"},{label:"Telegram",value:"telegram"},{label:"Frost",value:"frost"}],v=({attributes:e,setAttributes:a,fieldKeys:t={classKey:"sectionClass",dataKey:"sectionData",idKey:"sectionId"},labels:n={classLabel:(0,r.__)("Block Class","codeweber-gutenberg-blocks"),dataLabel:(0,r.__)("Block Data","codeweber-gutenberg-blocks"),idLabel:(0,r.__)("Block ID","codeweber-gutenberg-blocks")},placeholders:s={classPlaceholder:(0,r.__)("custom-wrapper classes","codeweber-gutenberg-blocks"),dataPlaceholder:(0,r.__)("key=value,key2=value2","codeweber-gutenberg-blocks"),idPlaceholder:(0,r.__)("custom-id","codeweber-gutenberg-blocks")}})=>{const o=(e,l)=>{let n=l;e===t.idKey&&(n=((e="")=>e.replace(/^#/,"").trim())(l)),a({[e]:n})};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(b.TextControl,{label:n.classLabel,value:e[t.classKey]||"",placeholder:s.classPlaceholder,onChange:e=>o(t.classKey,e)}),(0,l.createElement)(b.TextControl,{label:n.dataLabel,value:e[t.dataKey]||"",placeholder:s.dataPlaceholder,help:(0,r.__)("Comma separated pairs: key=value,key2=value2","codeweber-gutenberg-blocks"),onChange:e=>o(t.dataKey,e)}),(0,l.createElement)(b.TextControl,{label:n.idLabel,value:e[t.idKey]||"",placeholder:s.idPlaceholder,onChange:e=>o(t.idKey,e)}))},_=[{label:(0,r.__)("Padding","codeweber-gutenberg-blocks"),value:"padding"},{label:(0,r.__)("Margin","codeweber-gutenberg-blocks"),value:"margin"}],h=(e,a="")=>{const t="margin"===e?"m":"p",l=a?`${t}-${a}`:t;return[{value:"",label:(0,r.__)("None","codeweber-gutenberg-blocks")},{value:"0",label:`${l}-0`},{value:"1",label:`${l}-1`},{value:"2",label:`${l}-2`},{value:"3",label:`${l}-3`},{value:"4",label:`${l}-4`},{value:"5",label:`${l}-5`},{value:"6",label:`${l}-6`},{value:"7",label:`${l}-7`},{value:"8",label:`${l}-8`},{value:"9",label:`${l}-9`},{value:"10",label:`${l}-10`},{value:"11",label:`${l}-11`},{value:"12",label:`${l}-12`},{value:"13",label:`${l}-13`},{value:"14",label:`${l}-14`},{value:"15",label:`${l}-15`},{value:"16",label:`${l}-16`},{value:"17",label:`${l}-17`},{value:"18",label:`${l}-18`},{value:"19",label:`${l}-19`},{value:"20",label:`${l}-20`},{value:"21",label:`${l}-21`},{value:"22",label:`${l}-22`},{value:"23",label:`${l}-23`},{value:"24",label:`${l}-24`},{value:"25",label:`${l}-25`}]},E=({spacingType:e,spacingXs:a,spacingSm:t,spacingMd:n,spacingLg:s,spacingXl:o,spacingXxl:c,onChange:i})=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"mb-3"},(0,l.createElement)("div",{className:"component-sidebar-title"},(0,l.createElement)("label",null,(0,r.__)("Spacing Type","codeweber-gutenberg-blocks"))),(0,l.createElement)(b.ButtonGroup,null,_.map(a=>(0,l.createElement)(b.Button,{key:a.value,isPrimary:e===a.value,onClick:()=>i("spacingType",a.value)},a.label)))),(0,l.createElement)("div",{className:"mb-3"},(0,l.createElement)("div",{className:"component-sidebar-title"},(0,l.createElement)("label",null,(0,r.__)("Extra small (xs)","codeweber-gutenberg-blocks"))),(0,l.createElement)(b.SelectControl,{value:a,options:h(e,""),onChange:e=>i("spacingXs",e)})),(0,l.createElement)("div",{className:"mb-3"},(0,l.createElement)("div",{className:"component-sidebar-title"},(0,l.createElement)("label",null,(0,r.__)("Small (sm) â‰¥576px","codeweber-gutenberg-blocks"))),(0,l.createElement)(b.SelectControl,{value:t,options:h(e,"sm"),onChange:e=>i("spacingSm",e)})),(0,l.createElement)("div",{className:"mb-3"},(0,l.createElement)("div",{className:"component-sidebar-title"},(0,l.createElement)("label",null,(0,r.__)("Medium (md) â‰¥768px","codeweber-gutenberg-blocks"))),(0,l.createElement)(b.SelectControl,{value:n,options:h(e,"md"),onChange:e=>i("spacingMd",e)})),(0,l.createElement)("div",{className:"mb-3"},(0,l.createElement)("div",{className:"component-sidebar-title"},(0,l.createElement)("label",null,(0,r.__)("Large (lg) â‰¥992px","codeweber-gutenberg-blocks"))),(0,l.createElement)(b.SelectControl,{value:s,options:h(e,"lg"),onChange:e=>i("spacingLg",e)})),(0,l.createElement)("div",{className:"mb-3"},(0,l.createElement)("div",{className:"component-sidebar-title"},(0,l.createElement)("label",null,(0,r.__)("Extra large (xl) â‰¥1200px","codeweber-gutenberg-blocks"))),(0,l.createElement)(b.SelectControl,{value:o,options:h(e,"xl"),onChange:e=>i("spacingXl",e)})),(0,l.createElement)("div",{className:"mb-3"},(0,l.createElement)("div",{className:"component-sidebar-title"},(0,l.createElement)("label",null,(0,r.__)("Extra extra large (xxl) â‰¥1400px","codeweber-gutenberg-blocks"))),(0,l.createElement)(b.SelectControl,{value:c,options:h(e,"xxl"),onChange:e=>i("spacingXxl",e)}))),w=({attributes:e,setAttributes:a})=>{const{avatarType:t,letters:n,bgColor:s,textColor:c,size:d,imageId:_,imageUrl:h,imageAlt:w,showName:k,name:y,position:x,nameLink:C,userId:N,staffId:S,staffShowDepartment:$,staffShowPhone:A,blockId:P,blockClass:T,blockData:B,spacingType:L,spacingXs:I,spacingSm:U,spacingMd:z,spacingLg:D,spacingXl:j,spacingXxl:O}=e,[M,X]=(0,o.useState)([]),[F,R]=(0,o.useState)(!1),[K,G]=(0,o.useState)([]),[V,H]=(0,o.useState)(!1);(0,o.useEffect)(()=>{"user"===t&&(R(!0),i()({path:"/wp/v2/users?per_page=100&context=edit"}).then(e=>{X(e||[]),R(!1)}).catch(()=>{X([]),R(!1)}))},[t]),(0,o.useEffect)(()=>{"staff"===t&&(H(!0),i()({path:"/wp/v2/staff?per_page=100&status=publish&_fields=id,title,meta"}).then(e=>{const a=(e||[]).map(e=>{const a=e._staff_name||e._staff_surname?[e._staff_name,e._staff_surname].filter(Boolean).join(" ").trim():e.title&&e.title.rendered||"#"+e.id;return{id:e.id,name:a}});G(a),H(!1)}).catch(()=>{G([]),H(!1)}))},[t]);const W=[];for(let e=1;e<=25;e++)W.push({label:`${e}`,value:`${e}`});const q=e=>{a({imageId:e.id||0,imageUrl:e.url||"",imageAlt:e.alt||""})},J=({icon:e,label:a})=>(0,l.createElement)("span",{title:a,style:{display:"flex",alignItems:"center",justifyContent:"center"}},(0,l.createElement)(b.Icon,{icon:e,size:20})),Y=[{name:"avatar",title:(0,l.createElement)(J,{icon:u,label:(0,r.__)("Avatar","codeweber-gutenberg-blocks")})},{name:"data",title:(0,l.createElement)(J,{icon:g,label:(0,r.__)("Additional Data","codeweber-gutenberg-blocks")})},{name:"settings",title:(0,l.createElement)(J,{icon:p,label:(0,r.__)("Settings","codeweber-gutenberg-blocks")})}];return(0,l.createElement)(b.TabPanel,{tabs:Y},n=>(0,l.createElement)(l.Fragment,null,"avatar"===n.name&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(b.PanelBody,{title:(0,r.__)("Avatar Type","codeweber-gutenberg-blocks"),className:"custom-panel-body",initialOpen:!0},(0,l.createElement)(b.ButtonGroup,null,[{label:(0,r.__)("Custom","codeweber-gutenberg-blocks"),value:"custom"},{label:(0,r.__)("WP User","codeweber-gutenberg-blocks"),value:"user"},{label:(0,r.__)("Staff","codeweber-gutenberg-blocks"),value:"staff"}].map(e=>(0,l.createElement)(b.Button,{key:e.value,isPrimary:t===e.value,onClick:()=>a({avatarType:e.value})},e.label)))),"custom"===t&&(0,l.createElement)(b.PanelBody,{title:(0,r.__)("Custom Avatar Settings","codeweber-gutenberg-blocks"),className:"custom-panel-body",initialOpen:!0},(0,l.createElement)("div",{style:{marginTop:"16px"}},(0,l.createElement)("div",{className:"component-sidebar-title"},(0,l.createElement)("label",null,(0,r.__)("Avatar Image","codeweber-gutenberg-blocks"))),(0,l.createElement)(m.MediaUploadCheck,null,(0,l.createElement)(m.MediaUpload,{onSelect:q,allowedTypes:["image"],value:_,render:({open:e})=>(0,l.createElement)(l.Fragment,null,!h&&(0,l.createElement)("div",{className:"image-placeholder",onClick:e,style:{width:"100%",height:"100px",backgroundColor:"#f0f0f0",border:"2px dashed #ccc",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease",marginBottom:"15px"}},(0,l.createElement)("div",{style:{textAlign:"center",color:"#666"}},(0,l.createElement)("div",{style:{fontSize:"20px",marginBottom:"4px"}},"ðŸ“·"),(0,l.createElement)("div",{style:{fontSize:"12px",fontWeight:"500"}},(0,r.__)("Select Image","codeweber-gutenberg-blocks")))),h&&(0,l.createElement)("div",{onClick:a=>{a.preventDefault(),e()},style:{marginTop:"12px",marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"140px",backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden",cursor:"pointer",position:"relative"}},(0,l.createElement)("img",{src:h,alt:w||(0,r.__)("Avatar Image","codeweber-gutenberg-blocks"),style:{width:"100%",height:"auto",display:"block"}}),(0,l.createElement)(b.Button,{isLink:!0,onClick:e=>{e.stopPropagation(),a({imageId:0,imageUrl:"",imageAlt:""})},style:{position:"absolute",top:"6px",right:"6px",backgroundColor:"rgba(220, 53, 69, 0.8)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",textDecoration:"none"}},(0,l.createElement)("i",{className:"uil uil-times",style:{margin:0,fontSize:"12px"}}))))}))),(0,l.createElement)("div",{style:{marginTop:"16px"}},(0,l.createElement)("div",{className:"component-sidebar-title"},(0,l.createElement)("label",null,(0,r.__)("Background Color","codeweber-gutenberg-blocks"))),(0,l.createElement)(b.ComboboxControl,{value:s,options:f,onChange:e=>a({bgColor:e}),help:(0,r.__)("Used when image is not uploaded","codeweber-gutenberg-blocks")})),(0,l.createElement)("div",{style:{marginTop:"16px"}},(0,l.createElement)("div",{className:"component-sidebar-title"},(0,l.createElement)("label",null,(0,r.__)("Text Color","codeweber-gutenberg-blocks"))),(0,l.createElement)(b.ComboboxControl,{value:c,options:f,onChange:e=>a({textColor:e}),help:(0,r.__)("Used when image is not uploaded","codeweber-gutenberg-blocks")}))),"user"===t&&(0,l.createElement)(b.PanelBody,{title:(0,r.__)("User Avatar Settings","codeweber-gutenberg-blocks"),className:"custom-panel-body",initialOpen:!0},(0,l.createElement)("div",{style:{marginTop:"16px"}},F?(0,l.createElement)("div",null,(0,l.createElement)(b.Spinner,null),(0,l.createElement)("span",{style:{marginLeft:"8px"}},(0,r.__)("Loading users...","codeweber-gutenberg-blocks"))):(0,l.createElement)(b.SelectControl,{label:(0,r.__)("Select User","codeweber-gutenberg-blocks"),value:N||0,options:[{label:(0,r.__)("â€” Select User â€”","codeweber-gutenberg-blocks"),value:0},...M.map(e=>({label:`${e.name} (${e.slug})`,value:e.id}))],onChange:e=>{const t=parseInt(e,10);a({userId:t||0})}}))),"staff"===t&&(0,l.createElement)(b.PanelBody,{title:(0,r.__)("Staff Avatar Settings","codeweber-gutenberg-blocks"),className:"custom-panel-body",initialOpen:!0},(0,l.createElement)("div",{style:{marginTop:"16px"}},V?(0,l.createElement)("div",null,(0,l.createElement)(b.Spinner,null),(0,l.createElement)("span",{style:{marginLeft:"8px"}},(0,r.__)("Loading staff...","codeweber-gutenberg-blocks"))):(0,l.createElement)(l.Fragment,null,(0,l.createElement)(b.SelectControl,{label:(0,r.__)("Select Staff","codeweber-gutenberg-blocks"),value:S||0,options:[{label:(0,r.__)("â€” Select Staff â€”","codeweber-gutenberg-blocks"),value:0},...K.map(e=>({label:e.name,value:e.id}))],onChange:e=>{a({staffId:parseInt(e,10)||0})}}),(0,l.createElement)("div",{style:{marginTop:"16px"}},(0,l.createElement)("div",{className:"component-sidebar-title",style:{marginBottom:"8px"}},(0,l.createElement)("label",null,(0,r.__)("Show for staff","codeweber-gutenberg-blocks"))),(0,l.createElement)(b.ButtonGroup,null,(0,l.createElement)(b.Button,{isPrimary:!$,onClick:()=>a({staffShowDepartment:!1})},(0,r.__)("Position","codeweber-gutenberg-blocks")),(0,l.createElement)(b.Button,{isPrimary:$,onClick:()=>a({staffShowDepartment:!0})},(0,r.__)("Department","codeweber-gutenberg-blocks")))),(0,l.createElement)("div",{style:{marginTop:"16px"}},(0,l.createElement)(b.ToggleControl,{label:(0,r.__)("Phone","codeweber-gutenberg-blocks"),checked:A,onChange:e=>a({staffShowPhone:e}),help:(0,r.__)("Show staff phone number","codeweber-gutenberg-blocks")}))))),(0,l.createElement)(b.PanelBody,{title:(0,r.__)("Size Settings","codeweber-gutenberg-blocks"),className:"custom-panel-body",initialOpen:!1},(0,l.createElement)("div",{style:{marginTop:"16px"}},(0,l.createElement)(b.SelectControl,{label:(0,r.__)("Size","codeweber-gutenberg-blocks"),value:d,options:W,onChange:e=>a({size:e}),help:(0,r.__)("Size from 1 to 25 (w-1 to w-25, h-1 to h-25)","codeweber-gutenberg-blocks")})))),"data"===n.name&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(b.PanelBody,{title:(0,r.__)("Additional Data","codeweber-gutenberg-blocks"),className:"custom-panel-body",initialOpen:!0},(0,l.createElement)("div",{style:{marginBottom:"16px"}},(0,l.createElement)(b.ToggleControl,{label:(0,r.__)("Show Additional Data","codeweber-gutenberg-blocks"),checked:k,onChange:e=>a({showName:e}),help:(0,r.__)("Enable to show name and position","codeweber-gutenberg-blocks")})),k&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{style:{marginTop:"16px"}},(0,l.createElement)(b.TextControl,{label:(0,r.__)("Name","codeweber-gutenberg-blocks"),value:y,onChange:e=>a({name:e}),placeholder:(0,r.__)("Enter name","codeweber-gutenberg-blocks")})),(0,l.createElement)("div",{style:{marginTop:"16px"}},(0,l.createElement)(b.TextControl,{label:(0,r.__)("Position","codeweber-gutenberg-blocks"),value:x,onChange:e=>a({position:e}),placeholder:(0,r.__)("Enter position/job title","codeweber-gutenberg-blocks")})),(0,l.createElement)("div",{style:{marginTop:"16px"}},(0,l.createElement)(b.TextControl,{label:(0,r.__)("Name Link (URL)","codeweber-gutenberg-blocks"),value:C,onChange:e=>a({nameLink:e}),placeholder:(0,r.__)("Optional: URL for name link","codeweber-gutenberg-blocks"),help:(0,r.__)("Leave empty if name should not be a link","codeweber-gutenberg-blocks")}))))),"settings"===n.name&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{style:{padding:"16px"}},(0,l.createElement)(E,{spacingType:L,spacingXs:I,spacingSm:U,spacingMd:z,spacingLg:D,spacingXl:j,spacingXxl:O,onChange:(e,t)=>a({[e]:t})})),(0,l.createElement)(v,{attributes:e,setAttributes:a,blockId:P,blockIdLabel:(0,r.__)("Avatar ID","codeweber-gutenberg-blocks"),blockClass:T,blockClassLabel:(0,r.__)("Avatar Class","codeweber-gutenberg-blocks"),blockData:B,blockDataLabel:(0,r.__)("Avatar Data","codeweber-gutenberg-blocks")}))))},k=(0,l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor"},(0,l.createElement)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));(0,n.registerBlockType)(s.name,{...s,icon:k,edit:({attributes:e,setAttributes:a})=>{const{avatarType:t,letters:n,bgColor:s,textColor:c,size:b,imageId:d,imageUrl:u,imageAlt:g,showName:p,name:f,position:v,nameLink:_,userId:h,staffId:E,staffShowDepartment:k,staffShowPhone:y,blockAlign:x,blockClass:C,blockData:N,blockId:S}=e,[$,A]=(0,o.useState)(null),[P,T]=(0,o.useState)(!1),[B,L]=(0,o.useState)(null),[I,U]=(0,o.useState)(!1);(0,o.useEffect)(()=>{"user"===t&&h?(T(!0),i()({path:`/wp/v2/users/${h}?context=edit`}).then(e=>{A(e),T(!1)}).catch(()=>{A(null),T(!1)})):A(null)},[t,h]),(0,o.useEffect)(()=>{"staff"===t&&E?(U(!0),i()({path:`/wp/v2/staff/${E}?context=edit&_embed`}).then(e=>{L(e),U(!1)}).catch(()=>{L(null),U(!1)})):L(null)},[t,E]);const z=["cwgb-avatar-block",x?`text-${x}`:"",C].filter(Boolean).join(" "),D={};N&&N.split(",").forEach(e=>{const[a,t]=e.split("=").map(e=>e.trim());a&&t&&(D[`data-${a}`]=t)});const j=(0,m.useBlockProps)({className:z,id:S||void 0,...D}),O=e=>{if(!e)return"AB";const a=e.trim().split(" ").filter(e=>e.length>0);return 0===a.length?"AB":1===a.length?a[0].substring(0,2).toUpperCase():(a[0][0]+a[a.length-1][0]).toUpperCase()},M=()=>{const e=["avatar"];return s&&e.push(`bg-${s}`),c&&e.push(`text-${c}`),b&&e.push(`w-${b}`,`h-${b}`),e.join(" ")};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(m.BlockControls,null,(0,l.createElement)(m.AlignmentToolbar,{value:x,onChange:e=>a({blockAlign:e})})),(0,l.createElement)(m.InspectorControls,null,(0,l.createElement)(w,{attributes:e,setAttributes:a})),(0,l.createElement)("div",{...j},"user"===t?(0,l.createElement)("div",{className:"author-info d-md-flex align-items-center"},(0,l.createElement)("div",{className:"d-flex align-items-center"},P?(0,l.createElement)("figure",{className:"user-avatar"},(0,l.createElement)("div",{className:"cwgb-avatar-placeholder"},(0,r.__)("Loading...","codeweber-gutenberg-blocks"))):$?(0,l.createElement)("figure",{className:"user-avatar"},$.avatar_urls&&$.avatar_urls[96]||"undefined"!=typeof cwgbAvatarPlaceholderUrl&&cwgbAvatarPlaceholderUrl?.url?(0,l.createElement)("img",{className:"rounded-circle",src:$.avatar_urls?.[96]||cwgbAvatarPlaceholderUrl?.url||"",alt:$.name||""}):(0,l.createElement)("span",{className:M()},(0,l.createElement)("span",null,O($.name)))):(0,l.createElement)("figure",{className:"user-avatar"},(0,l.createElement)("div",{className:"cwgb-avatar-placeholder"},(0,r.__)("Select a user","codeweber-gutenberg-blocks"))),$&&(0,l.createElement)("div",null,(0,l.createElement)("h6",null,(0,l.createElement)("a",{href:$.link||"#",className:"link-dark"},$.name||(0,r.__)("Name","codeweber-gutenberg-blocks"))),$.meta?.user_position&&(0,l.createElement)("span",{className:"post-meta fs-15"},$.meta.user_position)))):"staff"===t?(0,l.createElement)("div",{className:"author-info d-md-flex align-items-center"},(0,l.createElement)("div",{className:"d-flex align-items-center"+(y?" mb-4":"")},I?(0,l.createElement)("figure",{className:"user-avatar"},(0,l.createElement)("div",{className:"cwgb-avatar-placeholder"},(0,r.__)("Loading...","codeweber-gutenberg-blocks"))):B?(0,l.createElement)("figure",{className:"user-avatar"},B._embedded?.["wp:featuredmedia"]?.[0]?.source_url||"undefined"!=typeof cwgbAvatarPlaceholderUrl&&cwgbAvatarPlaceholderUrl?.url?(0,l.createElement)("img",{className:"rounded-circle",src:B._embedded?.["wp:featuredmedia"]?.[0]?.source_url||cwgbAvatarPlaceholderUrl?.url||"",alt:B._staff_name||B._staff_surname||B.meta?._staff_name||B.meta?._staff_surname?`${B._staff_name||B.meta?._staff_name||""} ${B._staff_surname||B.meta?._staff_surname||""}`.trim():B.title?.rendered||""}):(0,l.createElement)("span",{className:M()},(0,l.createElement)("span",null,O(B._staff_name||B._staff_surname||B.meta?._staff_name||B.meta?._staff_surname?`${B._staff_name||B.meta?._staff_name||""} ${B._staff_surname||B.meta?._staff_surname||""}`.trim():B.title?.rendered||"")))):(0,l.createElement)("figure",{className:"user-avatar"},(0,l.createElement)("div",{className:"cwgb-avatar-placeholder"},(0,r.__)("Select staff","codeweber-gutenberg-blocks"))),B&&(0,l.createElement)("div",null,(0,l.createElement)("div",{className:"h6 mb-1 lh-1"},(0,l.createElement)("a",{href:B.link||"#",className:"link-dark"},B._staff_name||B._staff_surname||B.meta?._staff_name||B.meta?._staff_surname?`${B._staff_name||B.meta?._staff_name||""} ${B._staff_surname||B.meta?._staff_surname||""}`.trim():B.title?.rendered||(0,r.__)("Name","codeweber-gutenberg-blocks"))),k&&B._embedded?.["wp:term"]?.[0]?.[0]?.name||B._staff_position||B.meta?._staff_position?(0,l.createElement)("div",{className:"post-meta fs-15 lh-1 mb-1"},k&&B._embedded?.["wp:term"]?.[0]?.[0]?.name?B._embedded["wp:term"][0][0].name:B._staff_position||B.meta?._staff_position):null,y&&(B._staff_phone||B._staff_job_phone||B.meta?._staff_phone||B.meta?._staff_job_phone)&&(0,l.createElement)("div",{className:"post-meta fs-15 lh-1"},(0,l.createElement)("a",{href:"tel:"+(B._staff_phone||B._staff_job_phone||B.meta?._staff_phone||B.meta?._staff_job_phone).replace(/[^0-9+]/g,"")},B._staff_phone||B._staff_job_phone||B.meta?._staff_phone||B.meta?._staff_job_phone))))):(0,l.createElement)("div",{className:p?"d-flex align-items-center":""},u?(0,l.createElement)("img",{className:M(),src:u,alt:g||"",style:p?{marginRight:"12px"}:{}}):(0,l.createElement)("span",{className:M(),style:p?{marginRight:"12px"}:{}},(0,l.createElement)("span",null,O(f))),p&&(0,l.createElement)("div",null,_?(0,l.createElement)("div",{className:"h6 mb-0"},(0,l.createElement)("a",{href:_,className:"link-dark"},f||(0,r.__)("Name","codeweber-gutenberg-blocks"))):f&&(0,l.createElement)("div",{className:"h6 mb-0"},f),v&&(0,l.createElement)("span",{className:"post-meta fs-15 d-block"},v)))))},save:({attributes:e})=>{const{avatarType:a,letters:t,bgColor:n,textColor:r,size:s,imageUrl:o,imageAlt:c,showName:i,name:m,position:b,nameLink:d,userId:u,blockAlign:g,blockClass:p,blockData:f,blockId:v}=e,_=["cwgb-avatar-block",g?`text-${g}`:"",p].filter(Boolean).join(" "),h={};f&&f.split(",").forEach(e=>{const[a,t]=e.split("=").map(e=>e.trim());a&&t&&(h[`data-${a}`]=t)});const E=()=>{const e=["avatar"];return n&&e.push(`bg-${n}`),r&&e.push(`text-${r}`),s&&e.push(`w-${s}`,`h-${s}`),e.join(" ")};return(0,l.createElement)("div",{className:_,id:v||void 0,...h},"user"===a?(0,l.createElement)("div",{className:"author-info d-md-flex align-items-center"},(0,l.createElement)("div",{className:"d-flex align-items-center"},(0,l.createElement)("figure",{className:"user-avatar"},(0,l.createElement)("span",{className:E()},(0,l.createElement)("span",null,"U"))),(0,l.createElement)("div",null,(0,l.createElement)("h6",null,(0,l.createElement)("a",{href:"#",className:"link-dark"},"User")),(0,l.createElement)("span",{className:"post-meta fs-15"},"Position")))):(0,l.createElement)("div",{className:i?"d-flex align-items-center":""},o?(0,l.createElement)("img",{className:E(),src:o,alt:c||"",style:i?{marginRight:"12px"}:{}}):(0,l.createElement)("span",{className:E(),style:i?{marginRight:"12px"}:{}},(0,l.createElement)("span",null,(e=>{if(!e)return"AB";const a=e.trim().split(" ").filter(e=>e.length>0);return 0===a.length?"AB":1===a.length?a[0].substring(0,2).toUpperCase():(a[0][0]+a[a.length-1][0]).toUpperCase()})(m))),i&&(0,l.createElement)("div",null,d?(0,l.createElement)("div",{className:"h6 mb-0"},(0,l.createElement)("a",{href:d,className:"link-dark"},m||"")):m&&(0,l.createElement)("div",{className:"h6 mb-0"},m),b&&(0,l.createElement)("span",{className:"post-meta fs-15 d-block"},b))))}})}},t={};function l(e){var n=t[e];if(void 0!==n)return n.exports;var r=t[e]={exports:{}};return a[e](r,r.exports,l),r.exports}l.m=a,e=[],l.O=(a,t,n,r)=>{if(!t){var s=1/0;for(m=0;m<e.length;m++){for(var[t,n,r]=e[m],o=!0,c=0;c<t.length;c++)(!1&r||s>=r)&&Object.keys(l.O).every(e=>l.O[e](t[c]))?t.splice(c--,1):(o=!1,r<s&&(s=r));if(o){e.splice(m--,1);var i=n();void 0!==i&&(a=i)}}return a}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[t,n,r]},l.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return l.d(a,{a}),a},l.d=(e,a)=>{for(var t in a)l.o(a,t)&&!l.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={9630:0,2402:0};l.O.j=a=>0===e[a];var a=(a,t)=>{var n,r,[s,o,c]=t,i=0;if(s.some(a=>0!==e[a])){for(n in o)l.o(o,n)&&(l.m[n]=o[n]);if(c)var m=c(l)}for(a&&a(t);i<s.length;i++)r=s[i],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(m)},t=globalThis.webpackChunkcodeweber_gutenberg_blocks=globalThis.webpackChunkcodeweber_gutenberg_blocks||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))})();var n=l.O(void 0,[2402],()=>l(630));n=l.O(n)})();