(()=>{"use strict";var e,t=[()=>{const e=window.wp.blocks,t=window.wp.i18n,l=JSON.parse('{"apiVersion":3,"name":"codeweber-blocks/tables","version":"0.1.0","title":"Tables","category":"codeweber-gutenberg-elements","icon":"editor-table","description":"Bootstrap 5 tables. Supports Simple, Dark, Striped, Bordered, Borderless, Hoverable, and Responsive styles.","keywords":["table","tables","bootstrap","data"],"supports":{"html":false,"customClassName":true,"anchor":true},"attributes":{"tableDark":{"type":"boolean","default":false},"tableStriped":{"type":"boolean","default":false},"tableBordered":{"type":"boolean","default":false},"tableBorderless":{"type":"boolean","default":false},"tableHover":{"type":"boolean","default":false},"responsive":{"type":"boolean","default":true},"headerCells":{"type":"array","default":["#","First","Last","Handle"]},"rows":{"type":"array","default":[{"cells":["1","Mark","Otto","@mdo"]},{"cells":["2","Jacob","Thornton","@fat"]},{"cells":["3","Larry the Bird","@twitter",""]}]}},"textdomain":"codeweber-gutenberg-blocks","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),o=window.React,r=window.wp.blockEditor,n=window.wp.components,a=({attributes:e,setAttributes:l})=>{const{tableDark:r,tableStriped:a,tableBordered:s,tableBorderless:c,tableHover:b,responsive:i}=e;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n.PanelBody,{title:(0,t.__)("Table Settings","codeweber-gutenberg-blocks"),className:"custom-panel-body"},(0,o.createElement)("div",{className:"component-sidebar-title"},(0,o.createElement)("label",null,(0,t.__)("Table classes","codeweber-gutenberg-blocks"))),(0,o.createElement)(n.ToggleControl,{label:(0,t.__)("table-dark","codeweber-gutenberg-blocks"),checked:!0===r,onChange:e=>l({tableDark:e})}),(0,o.createElement)(n.ToggleControl,{label:(0,t.__)("table-striped","codeweber-gutenberg-blocks"),checked:!0===a,onChange:e=>l({tableStriped:e})}),(0,o.createElement)(n.ToggleControl,{label:(0,t.__)("table-bordered","codeweber-gutenberg-blocks"),checked:!0===s,onChange:e=>l({tableBordered:e})}),(0,o.createElement)(n.ToggleControl,{label:(0,t.__)("table-borderless","codeweber-gutenberg-blocks"),checked:!0===c,onChange:e=>l({tableBorderless:e})}),(0,o.createElement)(n.ToggleControl,{label:(0,t.__)("table-hover","codeweber-gutenberg-blocks"),checked:!0===b,onChange:e=>l({tableHover:e})}),(0,o.createElement)("div",{style:{marginTop:"16px"}},(0,o.createElement)(n.ToggleControl,{label:(0,t.__)("Responsive","codeweber-gutenberg-blocks"),help:(0,t.__)("Wrap table in table-responsive for horizontal scroll on small screens.","codeweber-gutenberg-blocks"),checked:!0===i,onChange:e=>l({responsive:e})}))))},s=e=>{var t,l;return"string"==typeof e?{content:e,colspan:1}:{content:null!==(t=e?.content)&&void 0!==t?t:"",colspan:Math.max(1,null!==(l=e?.colspan)&&void 0!==l?l:1)}},c=e=>{var t,l;return"string"==typeof e?{content:e,colspan:1}:{content:null!==(t=e?.content)&&void 0!==t?t:"",colspan:Math.max(1,null!==(l=e?.colspan)&&void 0!==l?l:1)}},b={isEligible:e=>void 0!==e.cardWrapper,migrate(e){const{cardWrapper:t,...l}=e;return l}},i={isEligible(e){const t=e.headerCells?.[0];return"string"==typeof t},migrate:e=>({...e,headerCells:(e.headerCells||[]).map(e=>"string"==typeof e?{content:e,colspan:1}:e),rows:(e.rows||[]).map(e=>({...e,cells:(e.cells||[]).map(e=>"string"==typeof e?{content:e,colspan:1}:e)}))})};(0,e.registerBlockType)(l,{edit:({attributes:e,setAttributes:l})=>{const{tableDark:c,tableStriped:b,tableBordered:i,tableBorderless:d,tableHover:p,responsive:u,headerCells:m,rows:g}=e,h=(m||[]).map(s),w=e=>(e?.cells||[]).map(s),k=h.reduce((e,t)=>e+t.colspan,0),v=(0,r.useBlockProps)({className:"wp-block-codeweber-blocks-tables"}),_=(0,o.createElement)("table",{className:(()=>{const e=["table"];return c&&e.push("table-dark"),b&&e.push("table-striped"),i&&e.push("table-bordered"),d&&e.push("table-borderless"),p&&e.push("table-hover"),e.join(" ")})()},(0,o.createElement)("thead",null,(0,o.createElement)("tr",null,h.map((e,a)=>(0,o.createElement)("th",{key:a,scope:"col",colSpan:e.colspan>1?e.colspan:void 0},(0,o.createElement)("div",{className:"tables-cell-controls"},(0,o.createElement)(n.Button,{isSmall:!0,isDestructive:!0,onClick:e=>{e.stopPropagation(),(e=>{h.length<=1||l({headerCells:h.filter((t,l)=>l!==e),rows:g.map(t=>({...t,cells:w(t).filter((t,l)=>l!==e)}))})})(a)},disabled:h.length<=1,title:(0,t.__)("Remove column","codeweber-gutenberg-blocks")},"×"),a<h.length-1&&(0,o.createElement)(n.Button,{isSmall:!0,isSecondary:!0,onClick:e=>{e.stopPropagation(),(e=>{if(e>=h.length-1)return;const t=h.map((t,l)=>{if(l===e){const l=h[e+1];return{content:(t.content+" "+l.content).trim(),colspan:t.colspan+l.colspan}}return l===e+1?null:t}).filter(Boolean);l({headerCells:t})})(a)},title:(0,t.__)("Merge with next cell","codeweber-gutenberg-blocks")},"⇄"),e.colspan>1&&(0,o.createElement)(n.Button,{isSmall:!0,isSecondary:!0,onClick:e=>{e.stopPropagation(),(e=>{const t=h[e];if(!t||t.colspan<=1)return;const o=[...h.slice(0,e),{content:t.content,colspan:1},{content:"",colspan:1},...Array.from({length:t.colspan-2},()=>({content:"",colspan:1})),...h.slice(e+1)];l({headerCells:o})})(a)},title:(0,t.__)("Split cell","codeweber-gutenberg-blocks")},"⊣")),(0,o.createElement)(r.RichText,{tagName:"span",value:e.content,onChange:e=>((e,t)=>{const o=h.map((l,o)=>o===e?{...l,content:t}:l);l({headerCells:o})})(a,e),placeholder:(0,t.__)("Header…","codeweber-gutenberg-blocks"),withoutInteractiveFormatting:!0}))))),(0,o.createElement)("tbody",null,g.map((e,a)=>{const s=w(e),c=s.reduce((e,t)=>e+t.colspan,0),b=k-c;return(0,o.createElement)("tr",{key:a,className:"tables-editor-row"},s.map((e,c)=>{const b=0===c?"th":"td",i=0===c?{scope:"row"}:{};return(0,o.createElement)(b,{key:c,...i,colSpan:e.colspan>1?e.colspan:void 0},0===c&&(0,o.createElement)("span",{className:"tables-row-actions"},(0,o.createElement)(n.Button,{isSmall:!0,isDestructive:!0,onClick:()=>(e=>{g.length<=1||l({rows:g.filter((t,l)=>l!==e)})})(a),disabled:g.length<=1,title:(0,t.__)("Remove row","codeweber-gutenberg-blocks")},"×")),(0,o.createElement)("div",{className:"tables-cell-controls"},c<s.length-1&&(0,o.createElement)(n.Button,{isSmall:!0,isSecondary:!0,onClick:e=>{e.stopPropagation(),((e,t)=>{const o=w(g[e]);if(t>=o.length-1)return;const r=[...g],n=o.map((e,l)=>{if(l===t){const l=o[t+1];return{content:(e.content+" "+l.content).trim(),colspan:e.colspan+l.colspan}}return l===t+1?null:e}).filter(Boolean);r[e]={...r[e],cells:n},l({rows:r})})(a,c)},title:(0,t.__)("Merge with next cell","codeweber-gutenberg-blocks")},"⇄"),e.colspan>1&&(0,o.createElement)(n.Button,{isSmall:!0,isSecondary:!0,onClick:e=>{e.stopPropagation(),((e,t)=>{const o=w(g[e]),r=o[t];if(!r||r.colspan<=1)return;const n=[...g],a=[...o.slice(0,t),{content:r.content,colspan:1},{content:"",colspan:1},...Array.from({length:r.colspan-2},()=>({content:"",colspan:1})),...o.slice(t+1)];n[e]={...n[e],cells:a},l({rows:n})})(a,c)},title:(0,t.__)("Split cell","codeweber-gutenberg-blocks")},"⊣")),(0,o.createElement)(r.RichText,{tagName:"span",value:e.content,onChange:e=>((e,t,o)=>{const r=[...g],n=[...w(r[e])];for(;n.length<=t;)n.push({content:"",colspan:1});n[t]={...n[t],content:o},r[e]={...r[e],cells:n},l({rows:r})})(a,c,e),placeholder:(0,t.__)("…","codeweber-gutenberg-blocks"),withoutInteractiveFormatting:!0}))}),b>0&&(0,o.createElement)("td",{colSpan:b},(0,o.createElement)(r.RichText,{tagName:"span",value:"",onChange:e=>((e,t)=>{const o=w(g[e]),r=o.reduce((e,t)=>e+t.colspan,0),n=k-r;if(n<=0)return;const a=[...g],s=[...o,{content:t,colspan:n}];a[e]={...a[e],cells:s},l({rows:a})})(a,e),placeholder:"…",withoutInteractiveFormatting:!0})))})));return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(r.InspectorControls,null,(0,o.createElement)(a,{attributes:e,setAttributes:l})),(0,o.createElement)("div",{...v},u?(0,o.createElement)("div",{className:"table-responsive"},_):_,(0,o.createElement)("div",{className:"tables-block-actions"},(0,o.createElement)(n.Button,{isSmall:!0,isSecondary:!0,onClick:()=>{l({headerCells:[...h,{content:(0,t.__)("New","codeweber-gutenberg-blocks"),colspan:1}],rows:g.map(e=>({...e,cells:[...w(e),{content:"",colspan:1}]}))})}},(0,t.__)("+ Add Column","codeweber-gutenberg-blocks")),(0,o.createElement)(n.Button,{isSmall:!0,isSecondary:!0,onClick:()=>{const e=h.map(()=>({content:"",colspan:1}));l({rows:[...g,{cells:e}]})}},(0,t.__)("+ Add Row","codeweber-gutenberg-blocks")))))},save:({attributes:e})=>{const{tableDark:t,tableStriped:l,tableBordered:n,tableBorderless:a,tableHover:s,responsive:b,headerCells:i,rows:d}=e,p=(i||[]).map(c),u=p.reduce((e,t)=>e+t.colspan,0),m=r.useBlockProps.save({className:"wp-block-codeweber-blocks-tables"}),g=(0,o.createElement)("table",{className:(()=>{const e=["table"];return t&&e.push("table-dark"),l&&e.push("table-striped"),n&&e.push("table-bordered"),a&&e.push("table-borderless"),s&&e.push("table-hover"),e.join(" ")})()},(0,o.createElement)("thead",null,(0,o.createElement)("tr",null,p.map((e,t)=>(0,o.createElement)("th",{key:t,scope:"col",colSpan:e.colspan>1?e.colspan:void 0},(0,o.createElement)(r.RichText.Content,{value:e.content}))))),(0,o.createElement)("tbody",null,d.map((e,t)=>{const l=(e=>(e?.cells||[]).map(c))(e),n=l.reduce((e,t)=>e+t.colspan,0),a=u-n;return(0,o.createElement)("tr",{key:t},l.map((e,t)=>{const l=0===t?"th":"td",n=0===t?{scope:"row"}:{};return(0,o.createElement)(l,{key:t,...n,colSpan:e.colspan>1?e.colspan:void 0},(0,o.createElement)(r.RichText.Content,{value:e.content}))}),a>0&&(0,o.createElement)("td",{key:"pad",colSpan:a}))})));return(0,o.createElement)("div",{...m},b?(0,o.createElement)("div",{className:"table-responsive"},g):g)},deprecated:[b,i],title:(0,t.__)("Tables","codeweber-gutenberg-blocks"),description:(0,t.__)("Bootstrap 5 tables. Supports Simple, Dark, Striped, Bordered, Borderless, Hoverable, and Responsive styles.","codeweber-gutenberg-blocks"),keywords:[(0,t.__)("table","codeweber-gutenberg-blocks"),(0,t.__)("tables","codeweber-gutenberg-blocks"),(0,t.__)("bootstrap","codeweber-gutenberg-blocks"),(0,t.__)("data","codeweber-gutenberg-blocks")]})}],l={};function o(e){var r=l[e];if(void 0!==r)return r.exports;var n=l[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.m=t,e=[],o.O=(t,l,r,n)=>{if(!l){var a=1/0;for(i=0;i<e.length;i++){for(var[l,r,n]=e[i],s=!0,c=0;c<l.length;c++)(!1&n||a>=n)&&Object.keys(o.O).every(e=>o.O[e](l[c]))?l.splice(c--,1):(s=!1,n<a&&(a=n));if(s){e.splice(i--,1);var b=r();void 0!==b&&(t=b)}}return t}n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[l,r,n]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={6234:0,9182:0};o.O.j=t=>0===e[t];var t=(t,l)=>{var r,n,[a,s,c]=l,b=0;if(a.some(t=>0!==e[t])){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);if(c)var i=c(o)}for(t&&t(l);b<a.length;b++)n=a[b],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(i)},l=globalThis.webpackChunkcodeweber_gutenberg_blocks=globalThis.webpackChunkcodeweber_gutenberg_blocks||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var r=o.O(void 0,[9182],()=>o(0));r=o.O(r)})();