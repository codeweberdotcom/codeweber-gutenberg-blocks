(()=>{"use strict";var e,t={381:(e,t,o)=>{const l=window.wp.blocks,r=window.React,n=window.wp.i18n,a=window.wp.blockEditor,s=window.wp.serverSideRender;var c=o.n(s);const i=window.wp.components,b=window.wp.element,d=(0,b.forwardRef)(function({icon:e,size:t=24,...o},l){return(0,b.cloneElement)(e,{width:t,height:t,...o,ref:l})}),g=window.wp.primitives,u=(0,r.createElement)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(g.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})),m=(0,r.createElement)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(g.Path,{d:"M12 9c-.8 0-1.5.7-1.5 1.5S11.2 12 12 12s1.5-.7 1.5-1.5S12.8 9 12 9zm0-5c-3.6 0-6.5 2.8-6.5 6.2 0 .8.3 1.8.9 3.1.5 1.1 1.2 2.3 2 3.6.7 1 3 3.8 3.2 3.9l.4.5.4-.5c.2-.2 2.6-2.9 3.2-3.9.8-1.2 1.5-2.5 2-3.6.6-1.3.9-2.3.9-3.1C18.5 6.8 15.6 4 12 4zm4.3 8.7c-.5 1-1.1 2.2-1.9 3.4-.5.7-1.7 2.2-2.4 3-.7-.8-1.9-2.3-2.4-3-.8-1.2-1.4-2.3-1.9-3.3-.6-1.4-.7-2.2-.7-2.5 0-2.6 2.2-4.7 5-4.7s5 2.1 5 4.7c0 .2-.1 1-.7 2.4z"})),_=(0,r.createElement)(g.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(g.Path,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"})),p=(0,r.createElement)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(g.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,r.createElement)(g.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})),w=({attributes:e,setAttributes:t,fieldKeys:o={classKey:"sectionClass",dataKey:"sectionData",idKey:"sectionId"},labels:l={classLabel:(0,n.__)("Block Class","codeweber-gutenberg-blocks"),dataLabel:(0,n.__)("Block Data","codeweber-gutenberg-blocks"),idLabel:(0,n.__)("Block ID","codeweber-gutenberg-blocks")},placeholders:a={classPlaceholder:(0,n.__)("custom-wrapper classes","codeweber-gutenberg-blocks"),dataPlaceholder:(0,n.__)("key=value,key2=value2","codeweber-gutenberg-blocks"),idPlaceholder:(0,n.__)("custom-id","codeweber-gutenberg-blocks")}})=>{const s=(e,l)=>{let r=l;e===o.idKey&&(r=((e="")=>e.replace(/^#/,"").trim())(l)),t({[e]:r})};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(i.TextControl,{label:l.classLabel,value:e[o.classKey]||"",placeholder:a.classPlaceholder,onChange:e=>s(o.classKey,e)}),(0,r.createElement)(i.TextControl,{label:l.dataLabel,value:e[o.dataKey]||"",placeholder:a.dataPlaceholder,help:(0,n.__)("Comma separated pairs: key=value,key2=value2","codeweber-gutenberg-blocks"),onChange:e=>s(o.dataKey,e)}),(0,r.createElement)(i.TextControl,{label:l.idLabel,value:e[o.idKey]||"",placeholder:a.idPlaceholder,onChange:e=>s(o.idKey,e)}))},h=(0,r.createElement)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(g.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})),k=(0,r.createElement)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,r.createElement)(g.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})),C=({label:e,value:t,onChange:o})=>(0,r.createElement)(i.BaseControl,{label:e,__nextHasNoMarginBottom:!0},(0,r.createElement)("div",{style:{display:"flex",gap:"8px"}},(0,r.createElement)(i.TextControl,{label:(0,n.__)("Latitude","codeweber-gutenberg-blocks"),value:t?.lat||"",onChange:e=>{o({...t,lat:parseFloat(e)||0})},type:"number",step:"0.000001",placeholder:"55.76",style:{flex:1}}),(0,r.createElement)(i.TextControl,{label:(0,n.__)("Longitude","codeweber-gutenberg-blocks"),value:t?.lng||"",onChange:e=>{o({...t,lng:parseFloat(e)||0})},type:"number",step:"0.000001",placeholder:"37.64",style:{flex:1}}))),y=({marker:e,onSave:t,onCancel:o})=>{const[l,a]=(0,b.useState)({id:e?.id||`marker-${Date.now()}`,coords:e?.coords||{lat:55.76,lng:37.64},title:e?.title||"",address:e?.address||"",phone:e?.phone||"",workingHours:e?.workingHours||"",city:e?.city||"",category:e?.category||"",link:e?.link||"",description:e?.description||""}),s=(0,b.useRef)(null),c=(0,b.useRef)(null),d=(0,b.useRef)(null),g=(0,b.useRef)(!1);return(0,b.useEffect)(()=>{const e=s.current;if(e&&"undefined"!=typeof window&&void 0!==window.ymaps)return e.innerHTML="",g.current=!1,window.ymaps.ready(()=>{if(!e.isConnected||g.current)return;g.current=!0;const t=[parseFloat(l.coords?.lat)||55.76,parseFloat(l.coords?.lng)||37.64],o=new window.ymaps.Map(e,{center:t,zoom:14,controls:["zoomControl","searchControl"]});c.current=o;const r=new window.ymaps.Placemark(t,{},{draggable:!0});function n(e,t=null){a(o=>({...o,coords:{lat:e[0],lng:e[1]},...null!=t?{address:t}:{}}))}d.current=r,o.geoObjects.add(r),r.events.add("dragend",function(){const e=r.geometry.getCoordinates();n(e),window.ymaps.geocode(e).then(function(e){const t=e.geoObjects.get(0);t&&a(e=>({...e,address:t.getAddressLine()}))})}),o.events.add("click",function(e){const t=e.get("coords");r.geometry.setCoordinates(t),n(t),window.ymaps.geocode(t).then(function(e){const t=e.geoObjects.get(0);t&&a(e=>({...e,address:t.getAddressLine()}))})});const s=o.controls.get("searchControl");s&&s.events&&s.events.add("resultselect",function(e){const t=s.getResultsArray(),l=e.get("index"),a=t&&t[l];if(a){const e=a.geometry.getCoordinates();r.geometry.setCoordinates(e),o.setCenter(e,16),n(e,a.properties.get("name")||"")}})}),()=>{g.current=!1,c.current&&"function"==typeof c.current.destroy&&c.current.destroy(),c.current=null,d.current=null,e&&e.parentNode&&(e.innerHTML="")}},[]),(0,b.useEffect)(()=>{const e=parseFloat(l.coords?.lat),t=parseFloat(l.coords?.lng);!d.current||isNaN(e)||isNaN(t)||(d.current.geometry.setCoordinates([e,t]),c.current&&c.current.setCenter([e,t]))},[l.coords?.lat,l.coords?.lng]),(0,r.createElement)(i.Modal,{title:e?(0,n.__)("Edit Marker","codeweber-gutenberg-blocks"):(0,n.__)("Add Marker","codeweber-gutenberg-blocks"),onRequestClose:o,style:{maxWidth:"600px"}},(0,r.createElement)("div",{style:{padding:"16px"}},(0,r.createElement)(i.BaseControl,{label:(0,n.__)("Select point on the map","codeweber-gutenberg-blocks"),__nextHasNoMarginBottom:!0},(0,r.createElement)("div",{ref:s,className:"cwgb-marker-map-container",style:{width:"100%",minHeight:"250px",height:"250px",backgroundColor:"#e5e5e5",borderRadius:"4px",marginBottom:"12px"}}),"undefined"!=typeof window&&void 0===window.ymaps&&(0,r.createElement)("p",{style:{fontSize:"12px",color:"#666",marginTop:"4px"}},(0,n.__)("Yandex Maps will appear here when the theme loads the API in the editor.","codeweber-gutenberg-blocks"))),(0,r.createElement)(C,{label:(0,n.__)("Coordinates","codeweber-gutenberg-blocks"),value:l.coords,onChange:e=>a({...l,coords:e})}),(0,r.createElement)(i.TextControl,{label:(0,n.__)("Title","codeweber-gutenberg-blocks"),value:l.title,onChange:e=>a({...l,title:e})}),(0,r.createElement)(i.TextControl,{label:(0,n.__)("Address","codeweber-gutenberg-blocks"),value:l.address,onChange:e=>a({...l,address:e})}),(0,r.createElement)(i.TextControl,{label:(0,n.__)("Phone","codeweber-gutenberg-blocks"),value:l.phone,onChange:e=>a({...l,phone:e})}),(0,r.createElement)(i.TextControl,{label:(0,n.__)("Working Hours","codeweber-gutenberg-blocks"),value:l.workingHours,onChange:e=>a({...l,workingHours:e})}),(0,r.createElement)(i.TextControl,{label:(0,n.__)("City","codeweber-gutenberg-blocks"),value:l.city,onChange:e=>a({...l,city:e})}),(0,r.createElement)(i.TextControl,{label:(0,n.__)("Category","codeweber-gutenberg-blocks"),value:l.category,onChange:e=>a({...l,category:e})}),(0,r.createElement)(i.TextControl,{label:(0,n.__)("Link","codeweber-gutenberg-blocks"),value:l.link,onChange:e=>a({...l,link:e}),type:"url"}),(0,r.createElement)(i.BaseControl,{label:(0,n.__)("Description","codeweber-gutenberg-blocks")},(0,r.createElement)("textarea",{value:l.description,onChange:e=>a({...l,description:e.target.value}),rows:3,style:{width:"100%"}})),(0,r.createElement)("div",{style:{display:"flex",gap:"8px",marginTop:"16px",justifyContent:"flex-end"}},(0,r.createElement)(i.Button,{variant:"secondary",onClick:o},(0,n.__)("Cancel","codeweber-gutenberg-blocks")),(0,r.createElement)(i.Button,{variant:"primary",onClick:()=>t(l)},(0,n.__)("Save","codeweber-gutenberg-blocks")))))},f=({markers:e=[],onChange:t})=>{const[o,l]=(0,b.useState)(null),[a,s]=(0,b.useState)(!1);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)("div",{style:{marginBottom:"16px"}},(0,r.createElement)(i.Button,{variant:"primary",icon:h,onClick:()=>{s(!0)},style:{width:"100%"}},(0,n.__)("Add Marker","codeweber-gutenberg-blocks"))),0===e.length?(0,r.createElement)("p",{style:{color:"#666",fontStyle:"italic"}},(0,n.__)('No markers added yet. Click "Add Marker" to add one.',"codeweber-gutenberg-blocks")):(0,r.createElement)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"}},e.map((o,a)=>(0,r.createElement)("div",{key:o.id||a,style:{padding:"12px",border:"1px solid #ddd",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"}},(0,r.createElement)("div",{style:{flex:1}},(0,r.createElement)("strong",null,o.title||(0,n.__)("Untitled Marker","codeweber-gutenberg-blocks")),o.address&&(0,r.createElement)("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"}},o.address)),(0,r.createElement)("div",{style:{display:"flex",gap:"4px"}},(0,r.createElement)(i.Button,{variant:"secondary",size:"small",onClick:()=>((e,t)=>{l({...e,_index:t})})(o,a)},(0,n.__)("Edit","codeweber-gutenberg-blocks")),(0,r.createElement)(i.Button,{variant:"secondary",size:"small",icon:k,onClick:()=>(o=>{if(window.confirm((0,n.__)("Delete this marker?","codeweber-gutenberg-blocks"))){const l=[...e];l.splice(o,1),t(l)}})(a),isDestructive:!0}))))),(a||o)&&(0,r.createElement)(y,{marker:a?null:o,onSave:r=>{const n=[...e];if(void 0!==o?._index){const{_index:e,...t}=r;n[o._index]=t}else n.push(r);t(n),l(null),s(!1)},onCancel:()=>{l(null),s(!1)}}))},v=window.wp.apiFetch;var E=o.n(v);const x=({attributes:e,setAttributes:t})=>{const{officesQuery:o={postsPerPage:-1,orderBy:"title",order:"asc",selectedCities:[],selectedCategories:[]}}=e,[l,a]=(0,b.useState)([]),[s,c]=(0,b.useState)([]),[d,g]=(0,b.useState)(!0);(0,b.useEffect)(()=>{(async()=>{try{const e=await E()({path:"/wp/v2/offices?per_page=100"}),t=new Set;e.forEach(e=>{const o=e.meta?._office_city;o&&t.add(o)}),a(Array.from(t).sort());try{const e=await E()({path:"/wp/v2/office_category?per_page=100"});c(e.map(e=>({label:e.name,value:e.id.toString()})))}catch(e){c([])}g(!1)}catch(e){console.error("Error fetching offices data:",e),g(!1)}})()},[]);const u=(e,l)=>{t({officesQuery:{...o,[e]:l}})},m=[{label:(0,n.__)("Title","codeweber-gutenberg-blocks"),value:"title"},{label:(0,n.__)("Date","codeweber-gutenberg-blocks"),value:"date"},{label:(0,n.__)("Menu Order","codeweber-gutenberg-blocks"),value:"menu_order"}],_=[{label:(0,n.__)("Ascending","codeweber-gutenberg-blocks"),value:"asc"},{label:(0,n.__)("Descending","codeweber-gutenberg-blocks"),value:"desc"}],p=l.map(e=>({label:e,value:e}));return(0,r.createElement)(i.__experimentalVStack,{spacing:4},(0,r.createElement)(i.RangeControl,{label:(0,n.__)("Posts Per Page","codeweber-gutenberg-blocks"),value:-1===o.postsPerPage?0:o.postsPerPage,onChange:e=>u("postsPerPage",0===e?-1:e),min:0,max:100,step:1,help:-1===o.postsPerPage?(0,n.__)("Show all offices","codeweber-gutenberg-blocks"):(0,n.__)("Limit number of offices","codeweber-gutenberg-blocks")}),(0,r.createElement)(i.SelectControl,{label:(0,n.__)("Order By","codeweber-gutenberg-blocks"),value:o.orderBy||"title",options:m,onChange:e=>u("orderBy",e)}),(0,r.createElement)(i.SelectControl,{label:(0,n.__)("Order","codeweber-gutenberg-blocks"),value:o.order||"asc",options:_,onChange:e=>u("order",e)}),!d&&l.length>0&&(0,r.createElement)(i.BaseControl,{label:(0,n.__)("Filter by Cities","codeweber-gutenberg-blocks")},(0,r.createElement)("select",{multiple:!0,value:o.selectedCities||[],onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);u("selectedCities",t)},style:{width:"100%",minHeight:"100px"}},p.map(e=>(0,r.createElement)("option",{key:e.value,value:e.value},e.label))),(0,r.createElement)("p",{style:{fontSize:"12px",color:"#666",marginTop:"4px"}},(0,n.__)("Hold Ctrl/Cmd to select multiple cities","codeweber-gutenberg-blocks"))),!d&&s.length>0&&(0,r.createElement)(i.BaseControl,{label:(0,n.__)("Filter by Categories","codeweber-gutenberg-blocks")},(0,r.createElement)("select",{multiple:!0,value:o.selectedCategories||[],onChange:e=>{const t=Array.from(e.target.selectedOptions,e=>e.value);u("selectedCategories",t.map(e=>parseInt(e)))},style:{width:"100%",minHeight:"100px"}},s.map(e=>(0,r.createElement)("option",{key:e.value,value:e.value},e.label))),(0,r.createElement)("p",{style:{fontSize:"12px",color:"#666",marginTop:"4px"}},(0,n.__)("Hold Ctrl/Cmd to select multiple categories","codeweber-gutenberg-blocks"))))},B=({icon:e,label:t})=>(0,r.createElement)("span",{title:t,style:{display:"flex",alignItems:"center",justifyContent:"center"}},(0,r.createElement)(d,{icon:e,size:20})),S=({attributes:e,setAttributes:t})=>{const{dataSource:o,center:l,zoom:a,height:s,mapType:c,borderRadius:b,enableScrollZoom:d,enableDrag:g,enableDblClickZoom:h,autoFitBounds:k,searchControl:y,geolocationControl:v,routeButton:E,showSidebar:S,sidebarPosition:M,sidebarTitle:P,showFilters:T,filterByCity:H,filterByCategory:F,clusterer:D,clustererPreset:O,officesQuery:A,customMarkers:N,markerType:R,markerPreset:L,markerColor:I,markerAutoOpenBalloon:V,balloonMaxWidth:z,balloonCloseButton:j,balloonFields:Z,sidebarFields:K,blockClass:W,blockId:G,blockData:Q}=e,$=[{name:"main",title:(0,r.createElement)(B,{icon:u,label:(0,n.__)("Main","codeweber-gutenberg-blocks")})},{name:"markers",title:(0,r.createElement)(B,{icon:m,label:(0,n.__)("Markers","codeweber-gutenberg-blocks")})},{name:"sidebar",title:(0,r.createElement)(B,{icon:_,label:(0,n.__)("Sidebar","codeweber-gutenberg-blocks")})},{name:"controls",title:(0,r.createElement)(B,{icon:p,label:(0,n.__)("Controls","codeweber-gutenberg-blocks")})},{name:"advanced",title:(0,r.createElement)(B,{icon:u,label:(0,n.__)("Advanced","codeweber-gutenberg-blocks")})}],Y=[{label:(0,n.__)("Map","codeweber-gutenberg-blocks"),value:"yandex#map"},{label:(0,n.__)("Satellite","codeweber-gutenberg-blocks"),value:"yandex#satellite"},{label:(0,n.__)("Hybrid","codeweber-gutenberg-blocks"),value:"yandex#hybrid"}],q=[{label:(0,n.__)("Red Dot","codeweber-gutenberg-blocks"),value:"islands#redDotIcon"},{label:(0,n.__)("Blue Dot","codeweber-gutenberg-blocks"),value:"islands#blueDotIcon"},{label:(0,n.__)("Dark Blue Dot","codeweber-gutenberg-blocks"),value:"islands#darkBlueDotIcon"},{label:(0,n.__)("Night Dot","codeweber-gutenberg-blocks"),value:"islands#nightDotIcon"},{label:(0,n.__)("Orange Dot","codeweber-gutenberg-blocks"),value:"islands#orangeDotIcon"}],J=[{label:(0,n.__)("Violet Cluster","codeweber-gutenberg-blocks"),value:"islands#invertedVioletClusterIcons"},{label:(0,n.__)("Blue Cluster","codeweber-gutenberg-blocks"),value:"islands#invertedBlueClusterIcons"},{label:(0,n.__)("Red Cluster","codeweber-gutenberg-blocks"),value:"islands#invertedRedClusterIcons"}];return(0,r.createElement)(i.TabPanel,{tabs:$},u=>(0,r.createElement)(r.Fragment,null,"main"===u.name&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(i.PanelBody,{title:(0,n.__)("Data Source","codeweber-gutenberg-blocks"),initialOpen:!0},(0,r.createElement)(i.SelectControl,{label:(0,n.__)("Data Source","codeweber-gutenberg-blocks"),value:o,options:[{label:(0,n.__)("Offices from CPT","codeweber-gutenberg-blocks"),value:"offices"},{label:(0,n.__)("Custom Markers","codeweber-gutenberg-blocks"),value:"custom"}],onChange:e=>t({dataSource:e}),help:(0,n.__)("Select data source for markers","codeweber-gutenberg-blocks")})),(0,r.createElement)(i.PanelBody,{title:(0,n.__)("Map Settings","codeweber-gutenberg-blocks"),initialOpen:!0},(0,r.createElement)(C,{label:(0,n.__)("Map Center","codeweber-gutenberg-blocks"),value:l,onChange:e=>t({center:e})}),(0,r.createElement)(i.RangeControl,{label:(0,n.__)("Zoom Level","codeweber-gutenberg-blocks"),value:a,onChange:e=>t({zoom:e}),min:1,max:19,step:1}),(0,r.createElement)(i.RangeControl,{label:(0,n.__)("Map Height","codeweber-gutenberg-blocks"),value:s,onChange:e=>t({height:e}),min:200,max:1e3,step:50}),(0,r.createElement)(i.SelectControl,{label:(0,n.__)("Map Type","codeweber-gutenberg-blocks"),value:c,options:Y,onChange:e=>t({mapType:e})}),(0,r.createElement)(i.RangeControl,{label:(0,n.__)("Border Radius","codeweber-gutenberg-blocks"),value:b,onChange:e=>t({borderRadius:e}),min:0,max:20,step:1}))),"markers"===u.name&&(0,r.createElement)(r.Fragment,null,"offices"===o?(0,r.createElement)(i.PanelBody,{title:(0,n.__)("Offices Query","codeweber-gutenberg-blocks"),initialOpen:!0},(0,r.createElement)(x,{attributes:e,setAttributes:t})):(0,r.createElement)(i.PanelBody,{title:(0,n.__)("Custom Markers","codeweber-gutenberg-blocks"),initialOpen:!0},(0,r.createElement)(f,{markers:N||[],onChange:e=>t({customMarkers:e})})),(0,r.createElement)(i.PanelBody,{title:(0,n.__)("Marker Display","codeweber-gutenberg-blocks"),initialOpen:!1},(0,r.createElement)(i.SelectControl,{label:(0,n.__)("Marker Type","codeweber-gutenberg-blocks"),value:R,options:[{label:(0,n.__)("Default","codeweber-gutenberg-blocks"),value:"default"},{label:(0,n.__)("Custom","codeweber-gutenberg-blocks"),value:"custom"},{label:(0,n.__)("Logo","codeweber-gutenberg-blocks"),value:"logo"}],onChange:e=>t({markerType:e})}),"default"===R&&(0,r.createElement)(i.SelectControl,{label:(0,n.__)("Marker Preset","codeweber-gutenberg-blocks"),value:L,options:q,onChange:e=>t({markerPreset:e})}),"custom"===R&&(0,r.createElement)(i.TextControl,{label:(0,n.__)("Marker Color","codeweber-gutenberg-blocks"),value:I,onChange:e=>t({markerColor:e}),type:"color"}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Auto Open Balloon","codeweber-gutenberg-blocks"),checked:V,onChange:e=>t({markerAutoOpenBalloon:e}),__nextHasNoMarginBottom:!0}))),"sidebar"===u.name&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(i.PanelBody,{title:(0,n.__)("Sidebar Settings","codeweber-gutenberg-blocks"),initialOpen:!0},(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Show Sidebar","codeweber-gutenberg-blocks"),checked:S,onChange:e=>t({showSidebar:e}),__nextHasNoMarginBottom:!0}),S&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(i.SelectControl,{label:(0,n.__)("Sidebar Position","codeweber-gutenberg-blocks"),value:M,options:[{label:(0,n.__)("Left","codeweber-gutenberg-blocks"),value:"left"},{label:(0,n.__)("Right","codeweber-gutenberg-blocks"),value:"right"}],onChange:e=>t({sidebarPosition:e})}),(0,r.createElement)(i.TextControl,{label:(0,n.__)("Sidebar Title","codeweber-gutenberg-blocks"),value:P,onChange:e=>t({sidebarTitle:e}),placeholder:(0,n.__)("Enter sidebar title","codeweber-gutenberg-blocks")}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Show Filters","codeweber-gutenberg-blocks"),checked:T,onChange:e=>t({showFilters:e}),__nextHasNoMarginBottom:!0}),T&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Filter by City","codeweber-gutenberg-blocks"),checked:H,onChange:e=>t({filterByCity:e}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Filter by Category","codeweber-gutenberg-blocks"),checked:F,onChange:e=>t({filterByCategory:e}),__nextHasNoMarginBottom:!0})),(0,r.createElement)(i.PanelBody,{title:(0,n.__)("Sidebar Item Fields","codeweber-gutenberg-blocks"),initialOpen:!1},(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Show City","codeweber-gutenberg-blocks"),checked:!1!==K?.showCity,onChange:e=>t({sidebarFields:{...K,showCity:e}}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Show Address","codeweber-gutenberg-blocks"),checked:!0===K?.showAddress,onChange:e=>t({sidebarFields:{...K,showAddress:e}}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Show Phone","codeweber-gutenberg-blocks"),checked:!0===K?.showPhone,onChange:e=>t({sidebarFields:{...K,showPhone:e}}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Show Working Hours","codeweber-gutenberg-blocks"),checked:!1!==K?.showWorkingHours,onChange:e=>t({sidebarFields:{...K,showWorkingHours:e}}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Show Description","codeweber-gutenberg-blocks"),checked:!1!==K?.showDescription,onChange:e=>t({sidebarFields:{...K,showDescription:e}}),__nextHasNoMarginBottom:!0}))))),"controls"===u.name&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(i.PanelBody,{title:(0,n.__)("Map Controls","codeweber-gutenberg-blocks"),initialOpen:!0},(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Search Control","codeweber-gutenberg-blocks"),checked:y,onChange:e=>t({searchControl:e}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Geolocation Control","codeweber-gutenberg-blocks"),checked:v,onChange:e=>t({geolocationControl:e}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Route Button","codeweber-gutenberg-blocks"),checked:E,onChange:e=>t({routeButton:e}),__nextHasNoMarginBottom:!0})),(0,r.createElement)(i.PanelBody,{title:(0,n.__)("Map Behavior","codeweber-gutenberg-blocks"),initialOpen:!1},(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Scroll Zoom","codeweber-gutenberg-blocks"),checked:d,onChange:e=>t({enableScrollZoom:e}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Drag","codeweber-gutenberg-blocks"),checked:g,onChange:e=>t({enableDrag:e}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Double Click Zoom","codeweber-gutenberg-blocks"),checked:h,onChange:e=>t({enableDblClickZoom:e}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Auto Fit Bounds","codeweber-gutenberg-blocks"),checked:k,onChange:e=>t({autoFitBounds:e}),help:(0,n.__)("Automatically adjust map bounds to fit all markers","codeweber-gutenberg-blocks"),__nextHasNoMarginBottom:!0}))),"advanced"===u.name&&(0,r.createElement)(r.Fragment,null,(0,r.createElement)(i.PanelBody,{title:(0,n.__)("Clustering","codeweber-gutenberg-blocks"),initialOpen:!1},(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Enable Clustering","codeweber-gutenberg-blocks"),checked:D,onChange:e=>t({clusterer:e}),__nextHasNoMarginBottom:!0}),D&&(0,r.createElement)(i.SelectControl,{label:(0,n.__)("Cluster Preset","codeweber-gutenberg-blocks"),value:O,options:J,onChange:e=>t({clustererPreset:e})})),(0,r.createElement)(i.PanelBody,{title:(0,n.__)("Balloon Settings","codeweber-gutenberg-blocks"),initialOpen:!1},(0,r.createElement)(i.RangeControl,{label:(0,n.__)("Balloon Max Width","codeweber-gutenberg-blocks"),value:z,onChange:e=>t({balloonMaxWidth:e}),min:200,max:600,step:50}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Balloon Close Button","codeweber-gutenberg-blocks"),checked:j,onChange:e=>t({balloonCloseButton:e}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.PanelBody,{title:(0,n.__)("Balloon Fields","codeweber-gutenberg-blocks"),initialOpen:!1},(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Show City","codeweber-gutenberg-blocks"),checked:!1!==Z?.showCity,onChange:e=>t({balloonFields:{...Z,showCity:e}}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Show Address","codeweber-gutenberg-blocks"),checked:!1!==Z?.showAddress,onChange:e=>t({balloonFields:{...Z,showAddress:e}}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Show Phone","codeweber-gutenberg-blocks"),checked:!1!==Z?.showPhone,onChange:e=>t({balloonFields:{...Z,showPhone:e}}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Show Working Hours","codeweber-gutenberg-blocks"),checked:!1!==Z?.showWorkingHours,onChange:e=>t({balloonFields:{...Z,showWorkingHours:e}}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Show Link","codeweber-gutenberg-blocks"),checked:!1!==Z?.showLink,onChange:e=>t({balloonFields:{...Z,showLink:e}}),__nextHasNoMarginBottom:!0}),(0,r.createElement)(i.ToggleControl,{label:(0,n.__)("Show Description","codeweber-gutenberg-blocks"),checked:!0===Z?.showDescription,onChange:e=>t({balloonFields:{...Z,showDescription:e}}),__nextHasNoMarginBottom:!0}))),(0,r.createElement)(i.PanelBody,{title:(0,n.__)("Block Meta","codeweber-gutenberg-blocks"),initialOpen:!1},(0,r.createElement)(w,{attributes:e,setAttributes:t,fieldKeys:{classKey:"blockClass",dataKey:"blockData",idKey:"blockId"}})))))},M=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"codeweber-blocks/yandex-map","version":"1.0.0","title":"Yandex Map","category":"codeweber-gutenberg-blocks","icon":"location","description":"Display Yandex Maps with offices or custom markers","keywords":["map","yandex","карта","офисы","markers"],"supports":{"html":false,"customClassName":false},"textdomain":"codeweber-blocks","editorScript":"file:./index.js","editorStyle":"file:./editor.scss","style":"file:./style.scss","render":"file:./render.php","attributes":{"dataSource":{"type":"string","default":"offices"},"center":{"type":"object","default":{"lat":55.76,"lng":37.64}},"zoom":{"type":"number","default":10},"height":{"type":"number","default":500},"mapType":{"type":"string","default":"yandex#map"},"borderRadius":{"type":"number","default":8},"enableScrollZoom":{"type":"boolean","default":true},"enableDrag":{"type":"boolean","default":true},"enableDblClickZoom":{"type":"boolean","default":true},"autoFitBounds":{"type":"boolean","default":true},"searchControl":{"type":"boolean","default":false},"geolocationControl":{"type":"boolean","default":false},"routeButton":{"type":"boolean","default":false},"showSidebar":{"type":"boolean","default":false},"sidebarPosition":{"type":"string","default":"left"},"sidebarTitle":{"type":"string","default":""},"showFilters":{"type":"boolean","default":false},"filterByCity":{"type":"boolean","default":false},"filterByCategory":{"type":"boolean","default":false},"clusterer":{"type":"boolean","default":false},"clustererPreset":{"type":"string","default":"islands#invertedVioletClusterIcons"},"officesQuery":{"type":"object","default":{"postsPerPage":-1,"orderBy":"title","order":"asc","selectedCities":[],"selectedCategories":[]}},"customMarkers":{"type":"array","default":[]},"markerType":{"type":"string","default":"default"},"markerPreset":{"type":"string","default":"islands#redDotIcon"},"markerColor":{"type":"string","default":"#FF0000"},"markerAutoOpenBalloon":{"type":"boolean","default":false},"balloonMaxWidth":{"type":"number","default":300},"balloonCloseButton":{"type":"boolean","default":true},"balloonFields":{"type":"object","default":{"showCity":true,"showAddress":true,"showPhone":true,"showWorkingHours":true,"showLink":true,"showDescription":false}},"sidebarFields":{"type":"object","default":{"showCity":true,"showAddress":false,"showPhone":false,"showWorkingHours":true,"showDescription":true}},"blockClass":{"type":"string","default":""},"blockId":{"type":"string","default":""},"blockData":{"type":"string","default":""}}}');(0,l.registerBlockType)(M.name,{...M,edit:({attributes:e,setAttributes:t})=>{const{height:o,blockClass:l,blockId:s,blockData:i}=e,b=(0,a.useBlockProps)({className:"cwgb-yandex-map-block-edit"}),d={};return i&&i.split(",").forEach(e=>{const[t,o]=e.split("=").map(e=>e.trim());t&&o&&(d[`data-${t}`]=o)}),(0,r.createElement)(r.Fragment,null,(0,r.createElement)(a.InspectorControls,null,(0,r.createElement)(S,{attributes:e,setAttributes:t})),(0,r.createElement)("div",{...b,...d,id:s||void 0,style:{minHeight:`${o||500}px`}},(0,r.createElement)(c(),{block:"codeweber-blocks/yandex-map",attributes:e,LoadingPlaceholder:()=>(0,r.createElement)("div",{style:{height:`${o||500}px`,display:"flex",alignItems:"center",justifyContent:"center",background:"#f0f0f0",borderRadius:"8px",color:"#666"}},(0,n.__)("Loading map…","codeweber-gutenberg-blocks"))})))},save:()=>null})}},o={};function l(e){var r=o[e];if(void 0!==r)return r.exports;var n=o[e]={exports:{}};return t[e](n,n.exports,l),n.exports}l.m=t,e=[],l.O=(t,o,r,n)=>{if(!o){var a=1/0;for(b=0;b<e.length;b++){for(var[o,r,n]=e[b],s=!0,c=0;c<o.length;c++)(!1&n||a>=n)&&Object.keys(l.O).every(e=>l.O[e](o[c]))?o.splice(c--,1):(s=!1,n<a&&(a=n));if(s){e.splice(b--,1);var i=r();void 0!==i&&(t=i)}}return t}n=n||0;for(var b=e.length;b>0&&e[b-1][2]>n;b--)e[b]=e[b-1];e[b]=[o,r,n]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var o in t)l.o(t,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={9883:0,7539:0};l.O.j=t=>0===e[t];var t=(t,o)=>{var r,n,[a,s,c]=o,i=0;if(a.some(t=>0!==e[t])){for(r in s)l.o(s,r)&&(l.m[r]=s[r]);if(c)var b=c(l)}for(t&&t(o);i<a.length;i++)n=a[i],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(b)},o=globalThis.webpackChunkcodeweber_gutenberg_blocks=globalThis.webpackChunkcodeweber_gutenberg_blocks||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var r=l.O(void 0,[7539],()=>l(381));r=l.O(r)})();