(()=>{"use strict";var e,l={738:(e,l,a)=>{const t=window.wp.blocks,o=window.wp.i18n,r=JSON.parse('{"apiVersion":3,"name":"codeweber-blocks/top-header","version":"0.1.0","title":"Top Header","category":"codeweber-gutenberg-blocks","icon":"arrow-up-alt","description":"Top bar with address, email and phone from Redux. Use in custom headers.","keywords":["top header","topbar","header","address","email","phone"],"supports":{"html":false,"customClassName":true,"anchor":true},"attributes":{"showAddress":{"type":"boolean","default":true},"showEmail":{"type":"boolean","default":true},"showPhone":{"type":"boolean","default":true},"phones":{"type":"array","default":["phone_01"]},"backgroundColor":{"type":"string","default":"primary"},"textColor":{"type":"string","default":"white"},"blockClass":{"type":"string","default":""},"blockId":{"type":"string","default":""},"blockData":{"type":"string","default":""}},"textdomain":"codeweber-gutenberg-blocks","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php"}'),n=window.React,s=window.wp.blockEditor,c=window.wp.element,b=window.wp.apiFetch;var d=a.n(b);const i=window.wp.components,u=({attributes:e,setAttributes:l,fieldKeys:a={classKey:"sectionClass",dataKey:"sectionData",idKey:"sectionId"},labels:t={classLabel:(0,o.__)("Block Class","codeweber-gutenberg-blocks"),dataLabel:(0,o.__)("Block Data","codeweber-gutenberg-blocks"),idLabel:(0,o.__)("Block ID","codeweber-gutenberg-blocks")},placeholders:r={classPlaceholder:(0,o.__)("custom-wrapper classes","codeweber-gutenberg-blocks"),dataPlaceholder:(0,o.__)("key=value,key2=value2","codeweber-gutenberg-blocks"),idPlaceholder:(0,o.__)("custom-id","codeweber-gutenberg-blocks")}})=>{const s=(e,t)=>{let o=t;e===a.idKey&&(o=((e="")=>e.replace(/^#/,"").trim())(t)),l({[e]:o})};return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.TextControl,{label:t.classLabel,value:e[a.classKey]||"",placeholder:r.classPlaceholder,onChange:e=>s(a.classKey,e)}),(0,n.createElement)(i.TextControl,{label:t.dataLabel,value:e[a.dataKey]||"",placeholder:r.dataPlaceholder,help:(0,o.__)("Comma separated pairs: key=value,key2=value2","codeweber-gutenberg-blocks"),onChange:e=>s(a.dataKey,e)}),(0,n.createElement)(i.TextControl,{label:t.idLabel,value:e[a.idKey]||"",placeholder:r.idPlaceholder,onChange:e=>s(a.idKey,e)}))},g=[{label:"Primary",value:"primary"},{label:"Dark",value:"dark"},{label:"Light",value:"light"},{label:"Yellow",value:"yellow"},{label:"Orange",value:"orange"},{label:"Red",value:"red"},{label:"Pink",value:"pink"},{label:"Fuchsia",value:"fuchsia"},{label:"Violet",value:"violet"},{label:"Purple",value:"purple"},{label:"Blue",value:"blue"},{label:"Aqua",value:"aqua"},{label:"Sky",value:"sky"},{label:"Green",value:"green"},{label:"Leaf",value:"leaf"},{label:"Ash",value:"ash"},{label:"Navy",value:"navy"},{label:"Grape",value:"grape"},{label:"Muted",value:"muted"},{label:"White",value:"white"},{label:"Pinterest",value:"pinterest"},{label:"Dewalt",value:"dewalt"},{label:"Facebook",value:"facebook"},{label:"Telegram",value:"telegram"},{label:"Frost",value:"frost"}],m=[{label:(0,o.__)("Phone 01","codeweber-gutenberg-blocks"),value:"phone_01"},{label:(0,o.__)("Phone 02","codeweber-gutenberg-blocks"),value:"phone_02"},{label:(0,o.__)("Phone 03","codeweber-gutenberg-blocks"),value:"phone_03"},{label:(0,o.__)("Phone 04","codeweber-gutenberg-blocks"),value:"phone_04"},{label:(0,o.__)("Phone 05","codeweber-gutenberg-blocks"),value:"phone_05"}],p=g.map(e=>({label:(0,o.__)(e.label,"codeweber-gutenberg-blocks"),value:e.value})),h=g.map(e=>({label:(0,o.__)(e.label,"codeweber-gutenberg-blocks"),value:e.value})),w=({attributes:e,setAttributes:l})=>{const{showAddress:a=!0,showEmail:t=!0,showPhone:r=!0,phones:s=["phone_01"],backgroundColor:c="primary",textColor:b="white"}=e;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.PanelBody,{title:(0,o.__)("Top Header Items","codeweber-gutenberg-blocks"),initialOpen:!0},(0,n.createElement)(i.ToggleControl,{label:(0,o.__)("Show Address","codeweber-gutenberg-blocks"),checked:a,onChange:e=>l({showAddress:e})}),(0,n.createElement)(i.ToggleControl,{label:(0,o.__)("Show Email","codeweber-gutenberg-blocks"),checked:t,onChange:e=>l({showEmail:e})}),(0,n.createElement)(i.ToggleControl,{label:(0,o.__)("Show Phone","codeweber-gutenberg-blocks"),checked:r,onChange:e=>l({showPhone:e})}),r&&(0,n.createElement)("div",{style:{marginTop:12}},(0,n.createElement)("label",{style:{display:"block",marginBottom:8,fontWeight:"bold"}},(0,o.__)("Phones","codeweber-gutenberg-blocks")),m.map(e=>(0,n.createElement)(i.CheckboxControl,{key:e.value,label:e.label,checked:(s||[]).includes(e.value),onChange:a=>{const t=a?[...s||[],e.value]:(s||[]).filter(l=>l!==e.value);l({phones:t.length?t:["phone_01"]})}})))),(0,n.createElement)(i.PanelBody,{title:(0,o.__)("Styling","codeweber-gutenberg-blocks"),initialOpen:!0},(0,n.createElement)(i.SelectControl,{label:(0,o.__)("Background Color","codeweber-gutenberg-blocks"),value:c,options:p,onChange:e=>l({backgroundColor:e})}),(0,n.createElement)(i.SelectControl,{label:(0,o.__)("Text Color","codeweber-gutenberg-blocks"),value:b,options:h,onChange:e=>l({textColor:e})})),(0,n.createElement)(i.PanelBody,{title:(0,o.__)("Block Settings","codeweber-gutenberg-blocks"),initialOpen:!1},(0,n.createElement)(u,{attributes:e,setAttributes:l,fieldKeys:{classKey:"blockClass",dataKey:"blockData",idKey:"blockId"},labels:{classLabel:(0,o.__)("Block Class","codeweber-gutenberg-blocks"),dataLabel:(0,o.__)("Block Data","codeweber-gutenberg-blocks"),idLabel:(0,o.__)("Block ID","codeweber-gutenberg-blocks")}})))},k=({attributes:e,contactsData:l})=>{const{showAddress:a=!0,showEmail:t=!0,showPhone:r=!0,phones:s=["phone_01"],backgroundColor:c="primary",textColor:b="white"}=e;if(!(a&&l?.address?.actual||t&&l?.email||r&&s.some(e=>l?.phones?.[e])))return(0,n.createElement)("div",{className:"codeweber-top-header-preview-empty",style:{padding:"12px",background:"#f5f5f5",borderRadius:"4px"}},(0,n.createElement)("p",{style:{margin:0}},(0,o.__)("Top Header: configure contacts in Redux or enable items in the sidebar.","codeweber-gutenberg-blocks")));const d=c?`bg-${c}`:"bg-primary",i=b?`text-${b}`:"text-white";return(0,n.createElement)("div",{className:`codeweber-top-header-preview ${d} ${i} fw-bold fs-15`,style:{padding:"10px 0"}},(0,n.createElement)("div",{className:"container d-flex flex-row justify-content-between flex-wrap gap-2"},a&&l?.address?.actual&&(0,n.createElement)("div",{className:"d-flex flex-row align-items-center"},(0,n.createElement)("span",{className:"icon mt-1 me-2"},(0,n.createElement)("i",{className:"uil uil-location-pin-alt"})),(0,n.createElement)("address",{className:"mb-0"},l.address.actual)),t&&l?.email&&(0,n.createElement)("div",{className:"d-none d-md-flex flex-row align-items-center me-6 ms-auto"},(0,n.createElement)("span",{className:"icon mt-1 me-2"},(0,n.createElement)("i",{className:"uil uil-message"})),(0,n.createElement)("p",{className:"mb-0"},(0,n.createElement)("a",{href:`mailto:${l.email}`,className:"link-white hover"},l.email))),r&&(0,n.createElement)("div",{className:"d-flex flex-row align-items-center"},(0,n.createElement)("span",{className:"icon mt-1 me-2"},(0,n.createElement)("i",{className:"uil uil-phone-volume"})),s.map(e=>{const a=l?.phones?.[e];return a?(0,n.createElement)("a",{key:e,href:`tel:${a.clean}`,className:"text-reset hover ms-2"},a.display):null}))))};(0,t.registerBlockType)(r,{edit:({attributes:e,setAttributes:l})=>{const{blockClass:a="",blockId:t=""}=e,[r,b]=(0,c.useState)(null),[i,u]=(0,c.useState)(!0),g=(0,s.useBlockProps)({className:["codeweber-top-header-block",a].filter(Boolean).join(" "),id:t||void 0});return(0,c.useEffect)(()=>{(async()=>{try{u(!0);const e=await d()({path:"/codeweber-gutenberg-blocks/v1/contacts"});b(e)}catch(e){b({address:{actual:""},email:"",phones:{}})}finally{u(!1)}})()},[]),(0,n.createElement)(n.Fragment,null,(0,n.createElement)(s.InspectorControls,null,(0,n.createElement)(w,{attributes:e,setAttributes:l})),(0,n.createElement)("div",{...g},i?(0,n.createElement)("div",{style:{padding:16,background:"#f5f5f5",borderRadius:4}},(0,o.__)("Loading...","codeweber-gutenberg-blocks")):(0,n.createElement)(k,{attributes:e,contactsData:r})))},save:()=>null,title:(0,o.__)("Top Header","codeweber-gutenberg-blocks"),description:(0,o.__)("Top bar with address, email and phone from Redux settings.","codeweber-gutenberg-blocks"),keywords:[(0,o.__)("top header","codeweber-gutenberg-blocks"),(0,o.__)("topbar","codeweber-gutenberg-blocks"),(0,o.__)("header","codeweber-gutenberg-blocks")]})}},a={};function t(e){var o=a[e];if(void 0!==o)return o.exports;var r=a[e]={exports:{}};return l[e](r,r.exports,t),r.exports}t.m=l,e=[],t.O=(l,a,o,r)=>{if(!a){var n=1/0;for(d=0;d<e.length;d++){for(var[a,o,r]=e[d],s=!0,c=0;c<a.length;c++)(!1&r||n>=r)&&Object.keys(t.O).every(e=>t.O[e](a[c]))?a.splice(c--,1):(s=!1,r<n&&(n=r));if(s){e.splice(d--,1);var b=o();void 0!==b&&(l=b)}}return l}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,o,r]},t.n=e=>{var l=e&&e.__esModule?()=>e.default:()=>e;return t.d(l,{a:l}),l},t.d=(e,l)=>{for(var a in l)t.o(l,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:l[a]})},t.o=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),(()=>{var e={1076:0,8444:0};t.O.j=l=>0===e[l];var l=(l,a)=>{var o,r,[n,s,c]=a,b=0;if(n.some(l=>0!==e[l])){for(o in s)t.o(s,o)&&(t.m[o]=s[o]);if(c)var d=c(t)}for(l&&l(a);b<n.length;b++)r=n[b],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(d)},a=globalThis.webpackChunkcodeweber_gutenberg_blocks=globalThis.webpackChunkcodeweber_gutenberg_blocks||[];a.forEach(l.bind(null,0)),a.push=l.bind(null,a.push.bind(a))})();var o=t.O(void 0,[8444],()=>t(738));o=t.O(o)})();