(()=>{"use strict";var e,t={698:(e,t,l)=>{const o=window.wp.blocks,r=window.React,c=window.wp.primitives,a=(0,r.createElement)(c.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(c.Path,{d:"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z"})),n=window.wp.blockEditor,s=window.wp.components,b=window.wp.i18n,d=window.wp.element,i=({attributes:e,setAttributes:t,fieldKeys:l={classKey:"sectionClass",dataKey:"sectionData",idKey:"sectionId"},labels:o={classLabel:(0,b.__)("Block Class","codeweber-gutenberg-blocks"),dataLabel:(0,b.__)("Block Data","codeweber-gutenberg-blocks"),idLabel:(0,b.__)("Block ID","codeweber-gutenberg-blocks")},placeholders:c={classPlaceholder:(0,b.__)("custom-wrapper classes","codeweber-gutenberg-blocks"),dataPlaceholder:(0,b.__)("key=value,key2=value2","codeweber-gutenberg-blocks"),idPlaceholder:(0,b.__)("custom-id","codeweber-gutenberg-blocks")}})=>{const a=(e,o)=>{let r=o;e===l.idKey&&(r=((e="")=>e.replace(/^#/,"").trim())(o)),t({[e]:r})};return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(s.TextControl,{label:o.classLabel,value:e[l.classKey]||"",placeholder:c.classPlaceholder,onChange:e=>a(l.classKey,e)}),(0,r.createElement)(s.TextControl,{label:o.dataLabel,value:e[l.dataKey]||"",placeholder:c.dataPlaceholder,help:(0,b.__)("Comma separated pairs: key=value,key2=value2","codeweber-gutenberg-blocks"),onChange:e=>a(l.dataKey,e)}),(0,r.createElement)(s.TextControl,{label:o.idLabel,value:e[l.idKey]||"",placeholder:c.idPlaceholder,onChange:e=>a(l.idKey,e)}))},u=window.wp.apiFetch;var g=l.n(u);const k=JSON.parse('{"apiVersion":3,"name":"codeweber-blocks/html-blocks","version":"0.1.0","title":"Html Blocks","category":"codeweber-gutenberg-blocks","icon":"code","description":"Выберите и отобразите HTML блок из CPT html_blocks","keywords":["html","blocks","cpt"],"supports":{"html":false,"customClassName":true,"anchor":true},"attributes":{"selectedBlockId":{"type":"number","default":0},"blockClass":{"type":"string","default":""},"blockData":{"type":"string","default":""},"blockId":{"type":"string","default":""}},"textdomain":"codeweber-gutenberg-blocks","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}');(0,o.registerBlockType)(k.name,{...k,icon:a,edit:({attributes:e,setAttributes:t,clientId:l})=>{const{selectedBlockId:o,blockClass:c,blockData:a,blockId:u}=e,[k,p]=(0,d.useState)([]),[w,m]=(0,d.useState)(!0),[_,h]=(0,d.useState)(""),[y,v]=(0,d.useState)(!1);(0,d.useEffect)(()=>{(async()=>{m(!0);try{const e=await g()({path:"/wp/v2/html_blocks?per_page=100&status=publish"}),t=[{label:(0,b.__)("-- Select Block --","codeweber-gutenberg-blocks"),value:0},...e.map(e=>({label:e.title?.rendered||`#${e.id}`,value:e.id}))];p(t)}catch(e){console.error("Error fetching HTML blocks:",e),p([{label:(0,b.__)("-- Select Block --","codeweber-gutenberg-blocks"),value:0}])}finally{m(!1)}})()},[]),(0,d.useEffect)(()=>{o&&0!==o?(async()=>{v(!0);try{const e=await g()({path:`/wp/v2/html_blocks/${o}`}),t=e.content?.rendered||"";h(t)}catch(e){console.error("Error fetching block content:",e),h((0,b.__)("Error loading content","codeweber-gutenberg-blocks"))}finally{v(!1)}})():h("")},[o]);const f=(0,n.useBlockProps)({className:`codeweber-html-blocks ${c||""}`.trim(),...u&&{id:u}});return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(n.InspectorControls,null,(0,r.createElement)(s.PanelBody,{title:(0,b.__)("HTML Block Settings","codeweber-gutenberg-blocks"),initialOpen:!0},w?(0,r.createElement)("div",{style:{padding:"10px",textAlign:"center"}},(0,r.createElement)(s.Spinner,null),(0,r.createElement)("p",null,(0,b.__)("Loading blocks...","codeweber-gutenberg-blocks"))):(0,r.createElement)(s.SelectControl,{label:(0,b.__)("Select HTML Block","codeweber-gutenberg-blocks"),value:o||0,options:k,onChange:e=>t({selectedBlockId:parseInt(e)||0}),help:(0,b.__)("Select a block from html_blocks CPT to display","codeweber-gutenberg-blocks")})),(0,r.createElement)(s.PanelBody,{title:(0,b.__)("Additional Settings","codeweber-gutenberg-blocks")},(0,r.createElement)(i,{attributes:e,setAttributes:t,fieldKeys:{classKey:"blockClass",dataKey:"blockData",idKey:"blockId"},labels:{classLabel:(0,b.__)("CSS Class","codeweber-gutenberg-blocks"),dataLabel:(0,b.__)("Data Attributes","codeweber-gutenberg-blocks"),idLabel:(0,b.__)("Element ID","codeweber-gutenberg-blocks")}}))),(0,r.createElement)("div",{...f,...(()=>{const e={};return a&&a.split(",").forEach(t=>{const[l,o]=t.split("=").map(e=>e.trim());l&&o&&(e[`data-${l}`]=o)}),e})()},o&&0!==o?y?(0,r.createElement)("div",{style:{padding:"20px",textAlign:"center"}},(0,r.createElement)(s.Spinner,null),(0,r.createElement)("p",null,(0,b.__)("Loading content...","codeweber-gutenberg-blocks"))):(0,r.createElement)("div",{className:"html-blocks-content",dangerouslySetInnerHTML:{__html:_}}):(0,r.createElement)(s.Placeholder,{icon:"code",label:(0,b.__)("Html Blocks","codeweber-gutenberg-blocks"),instructions:(0,b.__)("Select an HTML block from the settings list","codeweber-gutenberg-blocks")})))},save:()=>null})}},l={};function o(e){var r=l[e];if(void 0!==r)return r.exports;var c=l[e]={exports:{}};return t[e](c,c.exports,o),c.exports}o.m=t,e=[],o.O=(t,l,r,c)=>{if(!l){var a=1/0;for(d=0;d<e.length;d++){for(var[l,r,c]=e[d],n=!0,s=0;s<l.length;s++)(!1&c||a>=c)&&Object.keys(o.O).every(e=>o.O[e](l[s]))?l.splice(s--,1):(n=!1,c<a&&(a=c));if(n){e.splice(d--,1);var b=r();void 0!==b&&(t=b)}}return t}c=c||0;for(var d=e.length;d>0&&e[d-1][2]>c;d--)e[d]=e[d-1];e[d]=[l,r,c]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={1663:0,8711:0};o.O.j=t=>0===e[t];var t=(t,l)=>{var r,c,[a,n,s]=l,b=0;if(a.some(t=>0!==e[t])){for(r in n)o.o(n,r)&&(o.m[r]=n[r]);if(s)var d=s(o)}for(t&&t(l);b<a.length;b++)c=a[b],o.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return o.O(d)},l=globalThis.webpackChunkcodeweber_gutenberg_blocks=globalThis.webpackChunkcodeweber_gutenberg_blocks||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var r=o.O(void 0,[8711],()=>o(698));r=o.O(r)})();