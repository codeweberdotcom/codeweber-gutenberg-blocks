# üéâ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–ª–∞–≥–∏–Ω–∞ CodeWeber Gutenberg Blocks

**–î–∞—Ç–∞:** 05 –¥–µ–∫–∞–±—Ä—è 2024  
**–í–µ—Ä—Å–∏—è:** 0.1.0

---

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. ‚úÖ Media Block - –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å—Ç–µ—Ä–æ–≤ –¥–ª—è VK/Rutube

- –ü–æ—Å—Ç–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Video Type
- –ü–æ—Å—Ç–µ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ Video URL
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å—Ç–µ—Ä–∞..." —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
- –û—Ç—Å—Ç—É–ø 15px –ø–æ–¥ –∫–Ω–æ–ø–∫–æ–π –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏
- –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –≤—ã—Å–æ—Ç—ã –ø–æ—Å—Ç–µ—Ä–æ–≤ (aspect-ratio: 16/9) - **—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∏–¥–µ–æ**

### 2. ‚úÖ Button Block - –í–∏–¥–µ–æ –≤ –ª–∞–π—Ç–±–æ–∫—Å–µ

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ VK, Rutube, YouTube, Vimeo –≤ –ª–∞–π—Ç–±–æ–∫—Å–µ
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∫ –≤ Media –±–ª–æ–∫–µ (—Å–∫—Ä—ã—Ç—ã–π iframe + —è–∫–æ—Ä–Ω–∞—è —Å—Å—ã–ª–∫–∞)
- –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –≤–∏–¥–µ–æ –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ —Å target="_blank"
- –ö–Ω–æ–ø–∫–∞ –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–∞ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

### 3. ‚≠ê Gallery Block - –ù–û–í–´–ô –ë–õ–û–ö

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è 9 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
- –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ Media Library
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∞–º–∏ (XS/SM/MD/LG/XL/XXL)
- –í—ã–±–æ—Ä —Ä–∞–∑–º–µ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ WordPress API
- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å Lightbox
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –°–µ—Ç–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 9 –∫–æ–ª–æ–Ω–æ–∫

---

## üì¶ –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### VideoURLControl

**–ü—É—Ç—å:** `src/components/video-url/VideoURLControl.js`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```jsx
<VideoURLControl
    videoType="vk"
    value={videoVkId}
    onChange={(value) => setAttributes({ videoVkId: value })}
    autoloadPoster={true}
    onPosterLoad={(posterData) => { /* ... */ }}
    enhanceQuality={true}
    forLightbox={true}
/>
```

### videoUrlParsers

**–ü—É—Ç—å:** `src/utilities/videoUrlParsers.js`

**–§—É–Ω–∫—Ü–∏–∏:**
- `parseVKVideoURL(url, forLightbox)` 
- `parseRutubeVideoURL(url, forLightbox)`
- `parseYouTubeVideoURL(url)`
- `parseVimeoVideoURL(url)`

---

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ö–æ–¥:
- `src/blocks/gallery/` (6 —Ñ–∞–π–ª–æ–≤) - **–ù–û–í–´–ô –ë–õ–û–ö**
- `src/components/video-url/VideoURLControl.js` - **–ù–û–í–´–ô –ö–û–ú–ü–û–ù–ï–ù–¢**
- `src/utilities/videoUrlParsers.js` - **–ù–û–í–ê–Ø –£–¢–ò–õ–ò–¢–ê**
- `includes/js/pluign.js` - **JavaScript —Ñ–∏–∫—Å**

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `doc/VIDEO_INTEGRATION.md` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–∏–¥–µ–æ
- `doc/GALLERY_BLOCK.md` - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Gallery
- `doc/GALLERY_QUICK_START.md` - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `doc/HOTFIX_ASPECT_RATIO.md` - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ aspect-ratio
- `doc/COMPLETE_DOCUMENTATION.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `CHANGELOG.md` - –°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `README_UPDATES.md` - **–≠–¢–û–¢ –§–ê–ô–õ**

---

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### Media Block —Å VK/Rutube:

1. –î–æ–±–∞–≤–∏—Ç—å Media –±–ª–æ–∫
2. –í—ã–±—Ä–∞—Ç—å Video Type ‚Üí VK Video / Rutube
3. –í—Å—Ç–∞–≤–∏—Ç—å URL –∏–ª–∏ iframe –∫–æ–¥
4. –ü–æ—Å—Ç–µ—Ä –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚ö°
5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
6. –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å

### Button —Å –≤–∏–¥–µ–æ:

1. –î–æ–±–∞–≤–∏—Ç—å Button –±–ª–æ–∫
2. –í —Å–∞–π–¥–±–∞—Ä–µ Link Type ‚Üí VK Video / Rutube
3. –í—Å—Ç–∞–≤–∏—Ç—å URL
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å—Ç–∏–ª—å –∫–Ω–æ–ø–∫–∏
5. –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
6. **–í–ê–ñ–ù–û:** –ü–µ—Ä–µ—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ—Å—Ç –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### Gallery:

1. –î–æ–±–∞–≤–∏—Ç—å Gallery –±–ª–æ–∫
2. –ù–∞–∂–∞—Ç—å "Add Images"
3. –í—ã–±—Ä–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–º–æ–∂–Ω–æ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä)
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–ª–æ–Ω–∫–∏ (Columns Per Row)
5. –í—ã–±—Ä–∞—Ç—å —Ä–∞–∑–º–µ—Ä (Image Size)
6. –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å Lightbox
7. –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

**Media Block:**
- `src/blocks/media/controls/MediaControl.js`
- `src/blocks/media/style.scss`
- `src/blocks/media/editor.scss`

**Button Block:**
- `src/blocks/button/save.js`
- `src/blocks/button/edit.js`

**Utilities:**
- `src/utilities/link_type.js`
- `src/index.js`

**Backend:**
- `inc/VideoThumbnailAPI.php`
- `inc/Plugin.php`

**Frontend:**
- `includes/js/pluign.js`

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ WordPress Core:
- `@wordpress/block-editor`
- `@wordpress/components`
- `@wordpress/data`
- `@wordpress/blocks`
- `@wordpress/i18n`

–°—Ç–æ—Ä–æ–Ω–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ **–ù–ï –¢–†–ï–ë–£–Æ–¢–°–Ø**! ‚úÖ

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: VK –ø–æ—Å—Ç–µ—Ä—ã —Å mycdn.me

**–†–µ—à–µ–Ω–æ:** ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω—ã –≤—Å–µ CDN

### –ü—Ä–æ–±–ª–µ–º–∞: &amp; –≤ VK URL

**–†–µ—à–µ–Ω–æ:** ‚úÖ html_entity_decode()

### –ü—Ä–æ–±–ª–µ–º–∞: Button –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É

**–†–µ—à–µ–Ω–æ:** ‚úÖ JavaScript —Ñ–∏–∫—Å + —Å–∫—Ä—ã—Ç—ã–π iframe

### –ü—Ä–æ–±–ª–µ–º–∞: –†–∞–∑–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –ø–æ—Å—Ç–µ—Ä–æ–≤

**–†–µ—à–µ–Ω–æ:** ‚úÖ aspect-ratio: 16/9 (—Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∏–¥–µ–æ)

---

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `VIDEO_INTEGRATION.md` | –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–∏–¥–µ–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ |
| `GALLERY_BLOCK.md` | –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Gallery –±–ª–æ–∫–∞ |
| `GALLERY_QUICK_START.md` | –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| `HOTFIX_ASPECT_RATIO.md` | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ aspect-ratio |
| `COMPLETE_DOCUMENTATION.md` | –°–≤–æ–¥–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π |
| `CHANGELOG.md` | –ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π |

---

## üéØ –°–≤–æ–¥–∫–∞

### –°–æ–∑–¥–∞–Ω–æ:
- **1 –Ω–æ–≤—ã–π –±–ª–æ–∫** (Gallery)
- **2 –Ω–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞** (VideoURLControl, videoUrlParsers)
- **1 JavaScript —Ñ–∏–∫—Å** (pluign.js)
- **6 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** (1500+ —Å—Ç—Ä–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

### –ò–∑–º–µ–Ω–µ–Ω–æ:
- **10 —Ñ–∞–π–ª–æ–≤** –∫–æ–¥–∞
- **2 Backend —Ñ–∞–π–ª–∞** (PHP)
- **~1200 —Å—Ç—Ä–æ–∫** –∫–æ–¥–∞

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è VK/Rutube –≤–∏–¥–µ–æ
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π Gallery –±–ª–æ–∫
- ‚úÖ –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** –≤ –ø–∞–ø–∫–µ `/doc/`
2. **–û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à** –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+F5)
3. **–ü–µ—Ä–µ—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ—Å—Ç** –≤ WordPress
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å** –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏

---

**–° —É–≤–∞–∂–µ–Ω–∏–µ–º,**  
**CodeWeber Development Team** üöÄ

**–î–∞—Ç–∞:** 05.12.2024










